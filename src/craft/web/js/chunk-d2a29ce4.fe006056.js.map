{"version":3,"sources":["webpack:///./node_modules/.pnpm/core-js@3.17.2/node_modules/core-js/internals/not-a-regexp.js","webpack:///./node_modules/.pnpm/core-js@3.17.2/node_modules/core-js/internals/is-regexp.js","webpack:///./src/data/blockLibraries/diffusion.js","webpack:///./node_modules/.pnpm/core-js@3.17.2/node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/.pnpm/core-js@3.17.2/node_modules/core-js/modules/es.array.includes.js","webpack:///./node_modules/.pnpm/core-js@3.17.2/node_modules/core-js/modules/es.string.includes.js"],"names":["isRegExp","module","exports","it","TypeError","isObject","classof","wellKnownSymbol","MATCH","undefined","diffusion","Blockly","Blocks","init","this","jsonInit","dataObj","parent","children","getFieldValue","data","JSON","stringify","onchange","parse","fieldData","getInput","getChildren","getDescendants","child","type","Object","keys","field","getField","setFieldValue","count","contentXml","Xml","domToText","blockToDom","condition","input","block","name","value","defineBlocksWithJsonArray","netlogoGenerator","statement_members","statementToCode","code","INDENT","ifContents","JavaScript","prefixLines","elseContents","usedTouching","branchCode","conditionCode","n","inputList","length","valueToCode","ORDER_NONE","includes","STATEMENT_SUFFIX","injectId","parameters","root","getRootBlock","num","prefix","toLowerCase","suffix","position","POSITION","CHANGED","xmlblock","domToBlock","textToDom","workspace","descendant","console","log","dispose","blockToCode","SPEED","MASS","SIZE","HEADING","speed","selectedOption_","mass","color","size","heading","particleName","value_","parameter","particleType","replace","METHOD_NAME","regexp","error1","error2","$","$includes","addToUnscopables","target","proto","el","arguments","notARegExp","requireObjectCoercible","toString","correctIsRegExpLogic","forced","searchString","indexOf"],"mappings":"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","file":"js/chunk-d2a29ce4.fe006056.js","sourcesContent":["var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","import Blockly from 'blockly'\nimport { netlogoGenerator } from '@/blocklyHelpers/netlogoGenerator';\nexport let diffusion = {};\n\ndiffusion = {\n    \"categories\": [{\n        \"kind\": \"category\",\n        \"name\": \"Diffusion\",\n        \"expanded\": true,\n        \"contents\": [{\n            \"kind\": \"category\",\n            \"name\": \"Properties\",\n            \"toolboxitemid\": \"propertiesUnpackable\",\n            \"categorystyle\": \"particles_category\",\n            \"contents\": [{\n                \"kind\": \"block\",\n                \"type\": \"create_particles\"\n            },\n            {\n                \"kind\": \"block\",\n                \"type\": \"set_speed\"\n            },\n            {\n                \"kind\": \"block\",\n                \"type\": \"set_type\"\n            },\n            {\n                \"kind\": \"block\",\n                \"type\": \"set_mass\"\n            },\n            {\n                \"kind\": \"block\",\n                \"type\": \"set_color\"\n            },\n            {\n                \"kind\": \"block\",\n                \"type\": \"set_size\"\n            },\n            {\n                \"kind\": \"block\",\n                \"type\": \"set_position\"\n            },\n            {\n                \"kind\": \"block\",\n                \"type\": \"set_heading\"\n            },\n            ]\n        },\n        {\n            \"kind\": \"category\",\n            \"name\": \"Properties\",\n            \"toolboxitemid\": \"properties\",\n            \"categorystyle\": \"particles_category\",\n            \"contents\": [{\n                \"kind\": \"block\",\n                \"type\": \"create_particles1\"\n            },\n            {\n                \"kind\": \"block\",\n                \"type\": \"set_speed\"\n            },\n            {\n                \"kind\": \"block\",\n                \"type\": \"set_type\"\n            },\n            {\n                \"kind\": \"block\",\n                \"type\": \"set_mass\"\n            },\n            {\n                \"kind\": \"block\",\n                \"type\": \"set_color\"\n            },\n            {\n                \"kind\": \"block\",\n                \"type\": \"set_size\"\n            },\n            {\n                \"kind\": \"block\",\n                \"type\": \"set_position\"\n            },\n            {\n                \"kind\": \"block\",\n                \"type\": \"set_heading\"\n            },\n            ]\n        },\n        {\n            \"kind\": \"category\",\n            \"name\": \"Action\",\n            \"toolboxitemid\": \"actionsUnpackable\",\n            \"categorystyle\": \"behavior_category\",\n            \"contents\": [{\n                \"kind\": \"block\",\n                \"type\": \"move\"\n            },\n            {\n                \"kind\": \"block\",\n                \"type\": \"interact\"\n            },\n            {\n                \"kind\": \"block\",\n                \"type\": \"bounce_off\"\n            },\n            {\n                \"kind\": \"block\",\n                \"type\": \"erase\"\n            },\n            {\n                \"kind\": \"block\",\n                \"type\": \"attach\"\n            }\n            ]\n        },\n            {\n                \"kind\": \"category\",\n                \"name\": \"Action\",\n                \"toolboxitemid\": \"actions\",\n                \"categorystyle\": \"behavior_category\",\n                \"contents\": [{\n                    \"kind\": \"block\",\n                    \"type\": \"move\"\n                },\n                {\n                    \"kind\": \"block\",\n                    \"type\": \"collision1\"\n                },\n                {\n                    \"kind\": \"block\",\n                    \"type\": \"bounce_off\"\n                },\n                {\n                    \"kind\": \"block\",\n                    \"type\": \"erase\"\n                },\n                {\n                    \"kind\": \"block\",\n                    \"type\": \"attach\"\n                }\n                ]\n            },\n        {\n            \"kind\": \"category\",\n            \"name\": \"Control\",\n            \"colour\": \"#0089B8\",\n            \"contents\": [{\n                \"kind\": \"block\",\n                \"type\": \"for_each_particle\"\n            },\n            {\n                \"kind\": \"block\",\n                \"type\": \"temperature\"\n            },\n            {\n                \"kind\": \"block\",\n                \"type\": \"touching_dropdown\"\n            }]\n        }]\n    }]\n}\n\n// Create with Mutation\nBlockly.Blocks['create_particles'] = {\n    init: function () {\n        this.jsonInit({\n            \"message0\": \"create  %1 %2 particles %3\",\n            \"args0\": [\n                {\n                    \"type\": \"field_dropdown\",\n                    \"name\": \"TYPE\",\n                    \"options\": [\n                        [\n                            \"water\",\n                            \"WATER\"\n                        ],\n                        [\n                            \"ink\",\n                            \"INK\"\n                        ]\n                    ]\n                },\n                {\n                    \"type\": \"field_slider\",\n                    \"name\": \"PARTICLE_NUM\",\n                    \"value\": 100,\n                    \"min\": 0,\n                    \"max\": 500\n                },\n                {\n                    \"type\": \"input_dummy\",\n                    \"name\": \"EMPTY\"\n                }\n            ],\n            \"previousStatement\": null,\n            \"nextStatement\": null,\n            \"style\": \"particle_blocks\",\n            \"mutator\": \"general_mutator\"\n        });\n        let dataObj = {\n            'unpackBlocks':[\n                {\n                    parent: 'for_each_particle',\n                    children: [\n                        'set_speed',\n                        'set_mass',\n                        'set_color',\n                        'set_size',\n                        'set_position',\n                        'set_heading'\n                    ]\n                }\n            ],\n            'fieldData':{\n                'TYPE': this.getFieldValue('TYPE'),\n                'SPEED':'TEMP',\n                'MASS':'MEDIUM',\n                'COLOR': this.getFieldValue('TYPE') === 'WATER' ? 'CYAN' : 'RED',\n                'SIZE':'MEDIUM',\n                'POSITION': 'RANDOM',\n                'HEADING': this.getFieldValue('TYPE') === 'WATER' ? 'RANDOM' : 'DOWN',\n                'CHANGED': false\n            },\n            'contentXml':'',\n        }\n        // define unpacked blocks and default values\n        this.data = JSON.stringify(dataObj);\n        \n    },\n    // update dafault values when applicable\n    onchange: function(){\n        const dataObj = JSON.parse(this.data);\n        dataObj.fieldData['TYPE'] = this.getFieldValue('TYPE');\n        // update connected blocks if visible\n        if(this.getInput('EXPANDED_STATEMENT')){\n            // keep for loop synced with parent\n            for(const child of this.getChildren()[0].getDescendants()){\n                if(child.type === 'for_each_particle'){\n                    for (let field of Object.keys(dataObj.fieldData)) {\n                        if (child.getField(field)) {\n                            child.setFieldValue(dataObj.fieldData[field], field)\n                        }\n                    }\n                }\n                else{\n                    for (let field of Object.keys(dataObj.fieldData)) {\n                        if (child.getField(field)) {\n                            dataObj.fieldData[field] = child.getFieldValue(field);\n                        }\n                    }\n                }\n            }\n            let count = 0;\n            for (let child of this.getChildren()) {\n                if (count === 0) {\n                    dataObj.contentXml = Blockly.Xml.domToText(Blockly.Xml.blockToDom(child));\n                }\n                else {\n                    dataObj.contentXml += Blockly.Xml.domToText(Blockly.Xml.blockToDom(child));\n                }\n                ++count;\n            }\n        }\n        if (!dataObj.fieldData['CHANGED']) {\n            dataObj.fieldData['COLOR'] = this.getFieldValue('TYPE') === 'WATER' ? 'CYAN' : 'RED';\n            dataObj.fieldData['HEADING'] = this.getFieldValue('TYPE') === 'WATER' ? 'RANDOM' : 'DOWN';\n        }\n        this.data = JSON.stringify(dataObj);\n    }\n};\n\n// Collision with mutation\nBlockly.Blocks['interact'] = {\n    init: function(){\n        this.jsonInit({\n            \"message0\": \"interact %1\",\n            \"args0\": [\n                {\n                    \"type\": \"input_dummy\",\n                    \"name\": \"EMPTY\"\n                }\n            ],\n            \"inputsInline\": true,\n            \"previousStatement\": null,\n            \"nextStatement\": null,\n            \"mutator\": \"general_mutator\",\n            \"style\": \"behavior_border\"\n        });\n        let dataObj = {\n            'unpackBlocks': [\n                {\n                    parent: 'controls_if',\n                    condition: {\n                        input: 'IF0',\n                        block: 'touching_dropdown',\n                        field: {\n                            name: 'TYPE',\n                            value: 'WALL'\n                        }\n                    },\n                    children: ['bounce_off']\n                },\n                {\n                    parent: 'controls_if',\n                    condition: {\n                        input: 'IF0',\n                        block: 'touching_dropdown',\n                        field: {\n                            name: 'TYPE',\n                            value: 'ANYPARTICLE'\n                        }\n                    },\n                    children: ['bounce_off']\n                },\n            ],\n            'fieldData': {\n                'CHANGED': false\n            },\n            'contentXml': ''\n        };\n        // define unpacked blocks and default values\n        this.data = JSON.stringify(dataObj);\n    },\n    onchange: function(){\n        if (this.getInput('EXPANDED_STATEMENT')) {\n            const dataObj = JSON.parse(this.data);\n            let count = 0;\n            for (let child of this.getChildren()){\n                if(count === 0){\n                    dataObj.contentXml = Blockly.Xml.domToText(Blockly.Xml.blockToDom(child));\n                }\n                else{\n                    dataObj.contentXml += Blockly.Xml.domToText(Blockly.Xml.blockToDom(child));\n                }\n                ++count;\n            }\n            this.data = JSON.stringify(dataObj);\n        }\n    }\n};\n\nBlockly.defineBlocksWithJsonArray([\n{\n    // Properties Blocks\n    // Create without Mutation\n    \"type\": \"create_particles1\",\n    \"message0\": \"create  %1 %2 particles %3\",\n    \"args0\": [\n        {\n            \"type\": \"field_dropdown\",\n            \"name\": \"TYPE\",\n            \"options\": [\n                [\n                    \"water\",\n                    \"WATER\"\n                ],\n                [\n                    \"ink\",\n                    \"INK\"\n                ]\n            ]\n        },\n        {\n            \"type\": \"field_slider\",\n            \"name\": \"PARTICLE_NUM\",\n            \"value\": 100,\n            \"min\": 0,\n            \"max\": 500\n        },\n        {\n            \"type\": \"input_dummy\",\n            \"name\": \"EMPTY\"\n        }\n    ],\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"style\": \"particle_blocks\"\n},\n{\n    \"type\": \"set_speed\",\n    \"message0\": \"set speed %1\",\n    \"args0\": [\n        {\n            \"type\": \"field_dropdown\",\n            \"name\": \"SPEED\",\n            \"options\": [\n                [\n                    \"zero\",\n                    \"ZERO\"\n                ],\n                [\n                    \"low\",\n                    \"LOW\"\n                ],\n                [\n                    \"medium\",\n                    \"MEDIUM\"\n                ],\n                [\n                    \"high\",\n                    \"HIGH\"\n                ],\n                [\n                    \"initial temperature\",\n                    \"TEMP\"\n                ]\n            ]\n        }\n    ],\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"style\": \"particle_border\",\n},\n{\n    \"type\": \"set_type\",\n    \"message0\": \"set type %1\",\n    \"args0\": [\n        {\n            \"type\": \"field_dropdown\",\n            \"name\": \"TYPE\",\n            \"options\": [\n                [\n                    \"water\",\n                    \"WATER\"\n                ],\n                [\n                    \"ink\",\n                    \"INK\"\n                ]\n            ]\n        }\n    ],\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"style\": \"particle_border\",\n},\n{\n    \"type\":\"set_mass\",\n    \"message0\": \"set mass %1\",\n    \"args0\": [\n        {\n            \"type\": \"field_dropdown\",\n            \"name\": \"MASS\",\n            \"options\": [\n                [\n                    \"light\",\n                    \"LIGHT\"\n                ],\n                [\n                    \"medium\",\n                    \"MEDIUM\"\n                ],\n                [\n                    \"heavy\",\n                    \"HEAVY\"\n                ]\n            ]\n        }\n    ],\n    \"inputsInline\": true,\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"style\": \"particle_border\",\n    \"tooltip\": \"pick a value between 0 and 5\",\n},\n{\n    \"type\":\"set_color\",\n    \"message0\": \"set color %1\",\n    \"args0\": [\n        {\n            \"type\": \"field_dropdown\",\n            \"name\": \"COLOR\",\n            \"options\": [\n                [\n                    \"red\",\n                    \"RED\"\n                ],\n                [\n                    \"orange\",\n                    \"ORANGE\"\n                ],\n                [\n                    \"yellow\",\n                    \"YELLOW\"\n                ],\n                [\n                    \"green\",\n                    \"GREEN\"\n                ],\n                [\n                    \"blue\",\n                    \"BLUE\"\n                ],\n                [\n                    \"cyan\",\n                    \"CYAN\"\n                ],\n                [\n                    \"violet\",\n                    \"VIOLET\"\n                ],\n                [\n                    \"gray\",\n                    \"GRAY\"\n                ],\n                [\n                    \"black\",\n                    \"BLACK\"\n                ],\n                [\n                    \"brown\",\n                    \"BROWN\"\n                ]\n            ]\n        }\n    ],\n    \"inputsInline\": true,\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"style\": \"particle_border\",\n},\n{\n    \"type\": \"set_size\",\n    \"message0\": \"set size %1\",\n    \"args0\": [\n        {\n            \"type\": \"field_dropdown\",\n            \"name\": \"SIZE\",\n            \"options\": [\n                [\n                    \"small\",\n                    \"SMALL\"\n                ],\n                [\n                    \"medium\",\n                    \"MEDIUM\"\n                ],\n                [\n                    \"big\",\n                    \"BIG\"\n                ]\n            ]\n        }\n    ],\n    \"inputsInline\": true,\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"style\": \"particle_border\",\n},\n{\n    \"type\": \"set_position\",\n    \"message0\": \"set position %1\",\n    \"args0\": [\n        {\n            \"type\": \"field_dropdown\",\n            \"name\": \"POSITION\",\n            \"options\": [\n                [\n                    \"random\",\n                    \"RANDOM\"\n                ],\n                [\n                    \"center\",\n                    \"CENTER\"\n                ],\n                [\n                    \"vertical line\",\n                    \"VERTICAL\"\n                ],\n                [\n                    \"horizontal line\",\n                    \"HORIZONTAL\"\n                ],\n                [\n                    \"mouse position\",\n                    \"MOUSE\"\n                ]\n            ]\n        }\n    ],\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"style\": \"particle_border\",\n},\n{\n    \"type\": \"set_heading\",\n    \"message0\": \"set heading %1\",\n    \"args0\": [\n        {\n            \"type\": \"field_dropdown\",\n            \"name\": \"HEADING\",\n            \"options\": [\n                [\n                    \"random\",\n                    \"RANDOM\"\n                ],\n                [\n                    \"up\",\n                    \"UP\"\n                ],\n                [\n                    \"right\",\n                    \"RIGHT\"\n                ],\n                [\n                    \"down\",\n                    \"DOWN\"\n                ],\n                [\n                    \"left\",\n                    \"LEFT\"\n                ]\n            ]\n        }\n    ],\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"style\": \"particle_border\",\n},\n// Action Blocks\n{\n    \"type\": \"move\",\n    \"message0\": \"move\",\n    \"inputsInline\": true,\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"style\": \"behavior_border\"\n},\n{\n    // Collision without Mutation\n    \"type\": \"collision1\",\n    \"message0\": \"interact %1\",\n    \"args0\": [\n        {\n            \"type\": \"input_dummy\",\n            \"name\": \"EMPTY\"\n        }\n    ],\n    \"inputsInline\": true,\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"style\": \"behavior_border\"\n},\n{\n    \"type\": \"bounce_off\",\n    \"message0\": \"bounce off\",\n    \"inputsInline\": true,\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"style\": \"behavior_blocks\"\n},\n{\n    \"type\": \"erase\",\n    \"message0\": \"erase particles\",\n    \"inputsInline\": true,\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"style\": \"behavior_blocks\"\n},\n{\n    \"type\": \"attach\",\n    \"message0\": \"attach particles\",\n    \"inputsInline\": true,\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"style\": \"behavior_blocks\"\n},\n// Control Blocks\n{\n    \"type\": \"for_each_particle\",\n    \"message0\": \"for %1 %2 %3\",\n    \"args0\": [\n        {\n            \"type\": \"field_dropdown\",\n            \"name\": \"TYPE\",\n            \"options\": [\n                [\n                    \"water particles\",\n                    \"WATER\"\n                ],\n                [\n                    \"ink particles\",\n                    \"INK\"\n                ],\n                [\n                    \"all particles\",\n                    \"ALL\"\n                ]\n            ]\n        },\n        {\n            \"type\": \"input_dummy\"\n        },\n        {\n            \"type\": \"input_statement\",\n            \"name\": \"FOR_EACH\"\n        }\n    ],\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"style\": \"control_blocks\"\n},\n{\n    \"type\": \"temperature\",\n    \"message0\": \"temperature is %1\",\n    \"args0\": [\n        {\n            \"type\": \"field_dropdown\",\n            \"name\": \"TEMP\",\n            \"options\": [\n                [\n                    \"high\",\n                    \"HIGH\"\n                ],\n                [\n                    \"medium\",\n                    \"MEDIUM\"\n                ],\n                [\n                    \"low\",\n                    \"LOW\"\n                ],\n                [\n                    \"zero\",\n                    \"ZERO\"\n                ]\n            ]\n        }\n    ],\n    \"output\": \"Boolean\",\n    \"style\": \"control_blocks\",\n},\n{\n    \"type\": \"touching_dropdown\",\n    \"message0\": \"touching %1\",\n    \"args0\": [\n        {\n            \"type\": \"field_dropdown\",\n            \"name\": \"TYPE\",\n            \"options\": [\n                [\n                    \"any particle\",\n                    \"ANYPARTICLE\"\n                ],\n                [\n                    \"water particle\",\n                    \"WATERPARTICLE\"\n                ],\n                [\n                    \"ink particle\",\n                    \"INKPARTICLE\"\n                ],\n                [\n                    \"wall\",\n                    \"WALL\"\n                ]\n            ]\n        }\n    ],\n    \"output\": \"Boolean\",\n    \"style\": \"control_blocks\",\n    \"tooltip\": \"\",\n    \"helpUrl\": \"\"\n}]);\n\n// GEN BLOCKS\n// Setup blocks\nnetlogoGenerator['set'] = function (block) {\n    const statement_members = netlogoGenerator.statementToCode(block, 'SET');\n    const code = 'to blocks-set\\n' +\n        netlogoGenerator.INDENT + 'setup\\n' +\n        statement_members +\n        netlogoGenerator.INDENT + 'reset-ticks\\n' +\n        'end\\n';\n    return code;\n};\n\nnetlogoGenerator['go'] = function (block) {\n    const statement_members = netlogoGenerator.statementToCode(block, 'GO');\n    const code = 'to blocks-go\\n' +\n        netlogoGenerator.INDENT + 'mouse_click\\n' +\n        netlogoGenerator.INDENT + 'go\\n' +\n        statement_members +\n        netlogoGenerator.INDENT + 'tick-advance tick-delta\\n' +\n        netlogoGenerator.INDENT + 'display\\n' +\n        'end\\n';\n    return code;\n};\n\nnetlogoGenerator['mouse_click'] = function (block) {\n    let statement_members = netlogoGenerator.INDENT + 'set mouse-up? false\\n' + netlogoGenerator.statementToCode(block, 'MOUSE');\n\n    let ifContents = 'if mouse-down? \\n[\\n' +\n        statement_members + ']';\n    ifContents = Blockly.JavaScript.prefixLines(ifContents, netlogoGenerator.INDENT);\n\n    let elseContents = '[\\n' + netlogoGenerator.INDENT + 'if not mouse-down?\\n' + netlogoGenerator.INDENT + '[\\n' + netlogoGenerator.INDENT + netlogoGenerator.INDENT + 'set mouse-up? true\\n' + netlogoGenerator.INDENT + ']\\n' + ']\\n'\n    elseContents = Blockly.JavaScript.prefixLines(elseContents, netlogoGenerator.INDENT);\n    let code = 'ifelse mouse-up? != false' + '\\n[\\n' + ifContents + '\\n]\\n';\n\n    code = Blockly.JavaScript.prefixLines(\n        code, netlogoGenerator.INDENT) + elseContents;\n\n    return 'to mouse_click\\n' + code + 'end\\n';\n};\n\n// If/elseif/else condition\nnetlogoGenerator['controls_if'] = function (block) {\n    let n = 0;\n    let usedTouching;\n    let code = '', branchCode, conditionCode;\n\n    if (block.inputList.length === 2) {\n        code += 'if ';\n    }\n    else {\n        code += '(ifelse ';\n    }\n\n    do {\n        conditionCode = netlogoGenerator.valueToCode(block, 'IF' + n,\n            netlogoGenerator.ORDER_NONE) || 'false';\n        usedTouching = conditionCode.includes('(count collision-enemies > 0) and (collision-candidate != nobody) and (speed > 0 or [speed] of collision-candidate > 0)');\n        branchCode = usedTouching ? (netlogoGenerator.INDENT + 'set collision-flag 1\\n' + netlogoGenerator.statementToCode(block, 'DO' + n)) : (netlogoGenerator.INDENT + 'set collision-flag 0\\n') + netlogoGenerator.statementToCode(block, 'DO' + n);\n        if (Blockly.JavaScript.STATEMENT_SUFFIX) {\n            branchCode = Blockly.JavaScript.prefixLines(\n                Blockly.JavaScript.injectId(Blockly.JavaScript.STATEMENT_SUFFIX,\n                    block), netlogoGenerator.INDENT) + branchCode;\n        }\n        code += (n > 0 ? '\\n' : '') + conditionCode + '\\n[\\n' + branchCode + ']';\n        n++;\n    } while (block.getInput('IF' + n));\n\n    if (block.getInput('ELSE') || Blockly.JavaScript.STATEMENT_SUFFIX) {\n        branchCode = netlogoGenerator.statementToCode(block, 'ELSE');\n        if (Blockly.JavaScript.STATEMENT_SUFFIX) {\n            branchCode = Blockly.JavaScript.prefixLines(\n                Blockly.JavaScript.injectId(Blockly.JavaScript.STATEMENT_SUFFIX,\n                    block), netlogoGenerator.INDENT) + branchCode;\n        }\n        code += '\\n[\\n' + branchCode + ']';\n    }\n\n    (block.inputList.length === 2) ? code += '\\n' : code += ')\\n';\n    usedTouching ? code += 'set collision-flag 0\\n' : code +='';\n\n    return code;\n};\n\n\n// DIFFUSION BLOCK DEFINITIONS\n\n// Properties Blocks\n// Create Particles w/ mutation\nnetlogoGenerator['create_particles'] = function (block) {\n    const root = block.getRootBlock().type;\n    const fieldData = JSON.parse(block.data).fieldData; \n    const num = block.getFieldValue('PARTICLE_NUM');\n    let parameters;\n    let prefix = \n    'set particle-type \"' + fieldData['TYPE'].toLowerCase() + '\"\\n' +\n    'set first-time 1\\n' +\n    'set last-collision nobody\\n' +\n    'set collision-flag 0\\n' +\n    'set collision-hatching 0\\n';\n    let suffix =\n    'if mouse-down? \\n[\\n' +\n    netlogoGenerator.INDENT + 'drop-with-mouse ' + num + '\\n' +\n    ']';\n    let position = (fieldData['POSITION'] !== 'MOUSE' ? '  setxy ' : '  ') + netlogoGenerator.POSITION[fieldData['POSITION']] + '\\n'\n    if(!fieldData.CHANGED){\n        parameters =\n            'ask particles with [particle-type = \"' + this.getFieldValue('TYPE').toLowerCase() + '\"]\\n' +\n            '[\\n' +\n            '  set speed ' + netlogoGenerator.SPEED[fieldData['SPEED']] + '\\n' +\n            '  set mass ' + netlogoGenerator.MASS[fieldData['MASS']] + '\\n' +\n            '  set energy (.5 * mass * speed * speed)\\n' +\n            '  set color ' + fieldData['COLOR'].toLowerCase() + '\\n' +\n            '  set size ' + netlogoGenerator.SIZE[fieldData['SIZE']] + '\\n' +\n            (root !== 'mouse_click' ? position : '') +\n            '  let rand 40\\n' +\n            '  set heading ' + netlogoGenerator.HEADING[fieldData['HEADING']] + '\\n' +\n            ']\\n';\n    }\n    else{\n        let xmlblock = Blockly.Xml.domToBlock(Blockly.Xml.textToDom(JSON.parse(block.data).contentXml), this.workspace);\n        for(let descendant of xmlblock.getDescendants()){\n            if(root === 'mouse_click' && descendant.type === 'set_position'){\n                console.log('here')\n                descendant.dispose(true);\n            }\n        }\n        parameters = netlogoGenerator.blockToCode(xmlblock);\n        xmlblock.dispose(true);\n    }\n    let code = 'create-particles ' + num + '\\n[\\n' + Blockly.JavaScript.prefixLines(prefix, netlogoGenerator.INDENT) + Blockly.JavaScript.prefixLines(parameters, netlogoGenerator.INDENT) + Blockly.JavaScript.prefixLines(suffix, netlogoGenerator.INDENT) + '\\n]\\n';\n    return code;\n};\n\n// Create Particles no mutation\nnetlogoGenerator['create_particles1'] = function (block) {\n    const num = block.getFieldValue('PARTICLE_NUM');\n    const parameters =\n        'set particle-type \"' + block.getFieldValue('TYPE').toLowerCase() + '\" \\n' +\n        'set speed ' + netlogoGenerator.SPEED['TEMP'] + '\\n' +\n        'set mass ' + netlogoGenerator.MASS['MEDIUM'] + '\\n' +\n        'set energy (.5 * mass * speed * speed)\\n' +\n        'set first-time 1\\n' +\n        'set last-collision nobody\\n' +\n        'set collision-flag 0 \\n' +\n        'set collision-hatching 0\\n' +\n        'set color ' + (block.getFieldValue('TYPE') === 'WATER' ? 'cyan' : 'red') + '\\n' +\n        'set size ' + netlogoGenerator.SIZE['MEDIUM'] + '\\n' +\n        'setxy ' + netlogoGenerator.POSITION['RANDOM'] + '\\n' +\n        'let rand 40\\n' +\n        'set heading ' + netlogoGenerator.HEADING['RANDOM'] + '\\n' +\n        'if mouse-down? \\n[\\n' +\n        netlogoGenerator.INDENT + 'drop-with-mouse ' + num + '\\n' +\n        ']';\n    const code = 'create-particles ' + num + '\\n[\\n' + Blockly.JavaScript.prefixLines(parameters, netlogoGenerator.INDENT) + '\\n]\\n';\n    return code;\n};\n\n// Set Particle Speed\nnetlogoGenerator['set_speed'] = function (block) {\n    let speed = netlogoGenerator.SPEED[block.getField('SPEED').selectedOption_[1]];\n    let code = 'set speed ' + speed + '\\n';\n    return code;\n};\n\n// Set Particle Type\nnetlogoGenerator['set_type'] = function (block) {\n    let type = block.getField('TYPE').selectedOption_[0];\n    let code = 'set particle-type \"' + type + '\"\\n';\n    return code;\n};\n\n// Set Particle Mass\nnetlogoGenerator['set_mass'] = function (block) {\n    let mass = netlogoGenerator.MASS[block.getField('MASS').selectedOption_[1]];\n    let code = 'set mass ' + mass + '\\n' +\n        'set energy (.5 * mass * speed * speed)\\n';\n    return code;\n};\n\n// Set Particle Color\nnetlogoGenerator['set_color'] = function (block) {\n    let color = block.getField('COLOR').selectedOption_[0]\n    let code = 'set color ' + color + '\\n';\n    return code;\n};\n\n// Set Particle Size\nnetlogoGenerator['set_size'] = function (block) {\n    let size = netlogoGenerator.SIZE[block.getField('SIZE').selectedOption_[1]];\n    let code = 'set size ' + size + '\\n';\n    return code;\n};\n\n// Set Particle Postion\nnetlogoGenerator['set_position'] = function (block) {\n    const position = netlogoGenerator.POSITION[block.getField('POSITION').selectedOption_[1]];\n    const field = block.getField('POSITION').selectedOption_[1];\n    let code = (field !== 'MOUSE') ? ('setxy ' + position + '\\n') : (position + '\\n');\n    return code;\n};\n\n// Set Particle Heading\nnetlogoGenerator['set_heading'] = function (block) {\n    let heading = netlogoGenerator.HEADING[block.getField('HEADING').selectedOption_[1]];\n    let code = 'let rand 40\\nset heading ' + heading + '\\n';\n    return code;\n};\n\n\n// Action Blocks\n// Move\nnetlogoGenerator['move'] = function () {\n    const code = 'particle-forward\\n';\n    return code;\n};\n\n// Collide with Mutation\nnetlogoGenerator['interact'] = function (block) {\n    let code ;\n    const fieldData = JSON.parse(block.data).fieldData;\n    if (!fieldData.CHANGED){\n        code = 'if abs [pxcor] of patch-ahead 1 >= max-pxcor - 4 or abs [pycor] of patch-ahead 1 >= max-pycor - 4\\n' +\n            '[\\n' +\n            netlogoGenerator.INDENT + 'set collision-flag 0\\n' +\n            netlogoGenerator.INDENT + 'ifelse collision-flag = 1\\n' +\n            netlogoGenerator.INDENT + '[\\n' +\n            netlogoGenerator.INDENT + netlogoGenerator.INDENT + 'collide-with collision-candidate\\n' +\n            netlogoGenerator.INDENT + netlogoGenerator.INDENT + 'set last-collision collision-candidate\\n' +\n            netlogoGenerator.INDENT + netlogoGenerator.INDENT + 'ask collision-candidate[set last-collision myself ]\\n' +\n            netlogoGenerator.INDENT + ']\\n' +\n            netlogoGenerator.INDENT + '[\\n' +\n            netlogoGenerator.INDENT + netlogoGenerator.INDENT + 'if abs [pxcor] of patch-ahead 1 >= max-pxcor - 4\\n' +\n            netlogoGenerator.INDENT + netlogoGenerator.INDENT + '[ set heading(- heading) ]\\n' +\n            netlogoGenerator.INDENT + netlogoGenerator.INDENT + 'if abs [pycor] of patch-ahead 1 >= max-pycor - 4\\n' +\n            netlogoGenerator.INDENT + netlogoGenerator.INDENT + '[ set heading(180 - heading) ]\\n' +\n            netlogoGenerator.INDENT + ']\\n' +\n            ']\\n' +\n            'if (count collision-enemies > 0) and(collision-candidate != nobody) and(speed > 0 or[speed] of collision-candidate > 0) and ([particle-type] of collision-candidate != \"any\")\\n' +\n            '[\\n' +\n            netlogoGenerator.INDENT + 'set collision-flag 1\\n' +\n            netlogoGenerator.INDENT + 'ifelse collision-flag = 1\\n' +\n            netlogoGenerator.INDENT + '[\\n' +\n            netlogoGenerator.INDENT + netlogoGenerator.INDENT + 'collide-with collision-candidate\\n' +\n            netlogoGenerator.INDENT + netlogoGenerator.INDENT + 'set last-collision collision-candidate\\n' +\n            netlogoGenerator.INDENT + netlogoGenerator.INDENT + 'ask collision-candidate[ set last-collision myself ]\\n' +\n            netlogoGenerator.INDENT + ']\\n' +\n            netlogoGenerator.INDENT + '[\\n' +\n            netlogoGenerator.INDENT + netlogoGenerator.INDENT + 'if abs [pxcor] of patch-ahead 1 >= max-pxcor - 4\\n' +\n            netlogoGenerator.INDENT + netlogoGenerator.INDENT + '[ set heading(- heading) ]\\n' +\n            netlogoGenerator.INDENT + netlogoGenerator.INDENT + 'if abs [pycor] of patch-ahead 1 >= max-pycor - 4\\n' +\n            netlogoGenerator.INDENT + netlogoGenerator.INDENT + '[ set heading(180 - heading) ]\\n' +\n            netlogoGenerator.INDENT + ']\\n' +\n            ']\\n' +\n            'set collision-flag 0\\n';\n    }\n    else{\n        let xmlblock = Blockly.Xml.domToBlock(Blockly.Xml.textToDom(JSON.parse(block.data).contentXml), this.workspace);\n        code = netlogoGenerator.blockToCode(xmlblock);\n        xmlblock.dispose();\n    }\n    return code;\n};\n\n// Collide w/o Mutation\nnetlogoGenerator['collision1'] = function () {\n    const code =\n        'bounce-wall\\n' +\n        'check-for-collision\\n';\n    return code;\n};\n\n// Bounce Off\nnetlogoGenerator['bounce_off'] = function () {\n    let code = \n    'ifelse collision-flag = 1\\n[\\n' + \n    netlogoGenerator.INDENT + 'collide-with collision-candidate\\n'+\n    netlogoGenerator.INDENT +'set last-collision collision-candidate\\n'+\n    netlogoGenerator.INDENT + 'ask collision-candidate [ set last-collision myself ]\\n]\\n[\\n' +\n    netlogoGenerator.INDENT + 'if abs[pxcor] of patch-ahead 1 >= max-pxcor - 4\\n' +\n    netlogoGenerator.INDENT + '[ set heading (- heading) ]\\n' + \n    netlogoGenerator.INDENT + 'if abs [pycor] of patch-ahead 1 >= max-pycor - 4\\n' + \n    netlogoGenerator.INDENT + '[ set heading(180 - heading) ]\\n]\\n';\n    return code;\n};\n\n// Erase Particles\nnetlogoGenerator['erase'] = function () {\n    const code =\n        'ifelse collision-flag = 1\\n[\\n' +\n        netlogoGenerator.INDENT + 'set last-collision collision-candidate\\n' +\n        netlogoGenerator.INDENT + 'ask collision-candidate [ set last-collision myself ]\\n' +\n        netlogoGenerator.INDENT + 'ask collision-candidate [ die ]\\n' +\n        ']\\n' +\n        '[\\n' +\n        netlogoGenerator.INDENT + 'die' +\n        '\\n]\\n';\n    return code;\n};\n\n// Attach Particles\nnetlogoGenerator['attach'] = function () {\n    const code =\n        'ifelse collision-flag = 1 \\n[\\n' +\n        netlogoGenerator.INDENT + 'set last-collision collision-candidate\\n' +\n        netlogoGenerator.INDENT + 'let heading-candidate heading\\n' +\n        netlogoGenerator.INDENT + 'ask collision-candidate\\n' + \n        netlogoGenerator.INDENT + '[\\n' +\n        netlogoGenerator.INDENT + netlogoGenerator.INDENT + 'set last-collision myself\\n' +\n        netlogoGenerator.INDENT + netlogoGenerator.INDENT + 'set heading heading-candidate\\n' + \n        netlogoGenerator.INDENT + ']\\n' +\n        ']\\n[\\n' +\n        netlogoGenerator.INDENT + 'set speed 0\\n' +\n        ']\\n';\n    return code;\n};\n\n\n// Control Blocks\n// Ask Particles\nnetlogoGenerator['for_each_particle'] = function (block) {\n    const particleName = block.getField('TYPE').value_ || 'WATER';\n    const parameter = particleName === 'ALL' ? '' : ' with [particle-type = \"' + particleName.toLowerCase() + '\"]';\n    const statement_members = netlogoGenerator.statementToCode(block, 'FOR_EACH');\n    let code = 'ask particles' + parameter + '\\n' + '[\\n' + statement_members + ']\\n';\n    return code;\n};\n\n// Check Environment Temperature\nnetlogoGenerator['temperature'] = function (block) {\n    switch (block.getFieldValue('TEMP')) {\n        case 'HIGH':\n            return ['temperature > 35', netlogoGenerator.ORDER_NONE];\n        case 'MEDIUM':\n            return ['temperature < 36 and temperature > 14', netlogoGenerator.ORDER_NONE];\n        case 'LOW':\n            return ['temperature < 15', netlogoGenerator.ORDER_NONE];\n        case 'ZERO':\n            return ['temperature = 0', netlogoGenerator.ORDER_NONE];\n    }\n};\n\n// Detect if touching\nnetlogoGenerator['touching_dropdown'] = function (block) {\n    const type = block.getFieldValue('TYPE');\n    let code;\n    let particleType;\n    if(type.includes('PARTICLE')){\n        if(type.includes('ANY')){\n            particleType = 'any';\n        }\n        else{\n            particleType = block.getField('TYPE').selectedOption_[0].replace(' particle', '');\n        }\n        code = '(count collision-enemies > 0) and (collision-candidate != nobody) and (speed > 0 or [speed] of collision-candidate > 0) and ([particle-type] of collision-candidate != \"' + particleType + '\")'\n    }\n    else{\n        code = 'abs [pxcor] of patch-ahead 1 >= max-pxcor - 4 or abs [pycor] of patch-ahead 1 >= max-pycor - 4'\n    }\n    return [code, netlogoGenerator.ORDER_NONE];\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~toString(requireObjectCoercible(this))\n      .indexOf(toString(notARegExp(searchString)), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}