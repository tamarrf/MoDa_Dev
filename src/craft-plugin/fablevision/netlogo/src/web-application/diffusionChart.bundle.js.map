{"version":3,"sources":["webpack:///./src/components/chartComponents/diffusionChart.vue?2cf5","webpack:///src/components/chartComponents/diffusionChart.vue","webpack:///./src/components/chartComponents/diffusionChart.vue?e7dc","webpack:///./src/components/chartComponents/diffusionChart.vue","webpack:///./src/components/chartComponents/diffusionChart.vue?9c87"],"names":["render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","staticClass","attrs","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAsBH,EAAII,MAAMC,GAAO,OAAOL,EAAIM,GAAG,IACnGC,EAAkB,CAAC,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBE,EAAGL,EAAII,MAAMC,IAAIH,EAAG,OAAOG,EAAG,MAAM,CAACG,YAAY,UAAU,CAACH,EAAG,MAAM,CAACG,YAAY,oBAAoB,CAACH,EAAG,SAAS,CAACI,MAAM,CAAC,GAAK,mBAAmBJ,EAAG,MAAM,CAACG,YAAY,oBAAoB,CAACH,EAAG,SAAS,CAACI,MAAM,CAAC,GAAK,wB,uDCctS,GACE,KAAF,0BACE,MAAF,wBACE,KAHF,WAII,MAAJ,CACM,IAAN,GACM,KAAN,KAGE,QATF,WAUI,IAAJ,OACI,OAAJ,wCAOM,IAAN,oDACM,EAAN,wEACM,EAAN,oEAEM,IAAN,YACM,EAAN,mFAIM,EAAN,sDAEM,EAAN,+BAGI,OAAJ,wCACM,GAAN,iCAEA,wCAKU,IAAV,oDACU,EAAV,wEACU,EAAV,oEACU,EAAV,gCAKA,yBACM,KAAN,6BAGI,EAAJ,oCACI,EAAJ,2BACI,IAAJ,6BACI,KAAJ,4DACI,KAAJ,wCACM,KAAN,UACM,KAAN,CACQ,SAAR,EACU,MAAV,wBACU,YAAV,UACU,iBAAV,GACU,qBAAV,GACU,WAAV,GACU,KAAV,GACU,YAAV,KAGM,QAAN,CACQ,YAAR,CACU,KAAV,WAEQ,UAAR,EACQ,OAAR,CACU,EAAV,CACY,aAAZ,EACY,MAAZ,CACc,SAAd,EACc,KAAd,OACc,MAAd,SACc,QAAd,GAEY,MAAZ,CACc,SAAd,YAEgB,OAAhB,mDAIU,EAAV,CACY,aAAZ,EACY,aAAZ,IACY,MAAZ,CACc,SAAd,EACc,KAAd,mBACc,MAAd,SACc,QAAd,KAIQ,qBAAR,EACQ,QACR,CACU,QAAV,CACY,OAAZ,kDACY,UAAZ,CACc,MAAd,YAEgB,MAAhB,wFACA,uDAEA,wFACA,4DAGA,yCAKU,OAAV,CACY,SAAZ,OAMI,KAAJ,6DACI,KAAJ,8CACM,KAAN,UACM,KAAN,CACQ,SAAR,EACU,MAAV,0BACU,YAAV,UACU,iBAAV,UACU,qBAAV,UACU,WAAV,SACU,KAAV,GACU,YAAV,KAGM,QAAN,CACQ,YAAR,CACU,KAAV,WAEQ,UAAR,EACQ,OAAR,CACU,EAAV,CACY,aAAZ,EACY,IAAZ,GACY,MAAZ,CACc,SAAd,EACc,KAAd,mBACc,MAAd,SACc,QAAd,GAEY,MAAZ,CACc,SAAd,KAGU,EAAV,CACY,aAAZ,EACY,aAAZ,IACY,MAAZ,CACc,SAAd,EACc,KAAd,mBACc,MAAd,SACc,QAAd,KAIQ,qBAAR,EACQ,QACR,CACU,QAAV,CACY,OAAZ,kDACY,UAAZ,CACc,MAAd,YACgB,MAAhB,mFAIU,OAAV,CACY,SAAZ,QAME,QACF,CACI,cADJ,WAEM,IAAN,EACA,0BAEQ,KAAR,WACQ,KAAR,gDACQ,KAAR,sBACQ,KAAR,+EACQ,KAAR,cACQ,EAAR,yCAEM,IAAN,8BACM,EAAN,OACM,EAAN,iBACM,EAAN,UAGE,SAAF,CACI,QADJ,WAEM,OAAN,6BAGE,MAAF,ICrOwoB,I,wBCQpoBC,EAAY,eACd,EACAX,EACAQ,GACA,EACA,KACA,WACA,MAIa,aAAAG,E,oECnBf","file":"diffusionChart.bundle.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"charts\"},[_c('div',{staticClass:\"diffusion-chart1\"},[_c('canvas',{attrs:{\"id\":\"chartCanvas\"}})]),_c('div',{staticClass:\"diffusion-chart2\"},[_c('canvas',{attrs:{\"id\":\"chart2Canvas\"}})])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"charts\">\n        <div class=\"diffusion-chart1\">\n            <canvas id=\"chartCanvas\"></canvas>\n            <!-- <button class=\"screenshot\" v-on:click=\"getChartImage()\"></button> -->\n        </div>\n        <div class=\"diffusion-chart2\">\n           <canvas id=\"chart2Canvas\"></canvas>\n        </div>\n    </div>\n</template>\n\n<script>\nimport $ from 'jquery';\nimport Chart from 'chart.js/auto';\nexport default {\n    name: 'diffusionChartComponent',\n    props: ['workspace', 'dataset'],\n    data(){\n        return{\n            ctx: '',\n            data: [],\n        }\n    },\n    mounted()\n    {\n        window.addEventListener('complete', () =>{\n            // multi run\n            // const length = this.$store.state.chart.data.datasets[this.$store.state.runCount].data.length;\n            // this.$store.state.chart.data.datasets[this.$store.state.runCount].pointBackgroundColor[length - 1] = '#1AD873';\n            // this.$store.state.chart.data.datasets[this.$store.state.runCount].pointBorderColor[length - 1] = '#1AD873';\n\n            // single run\n            const length = this.$store.state.chart.data.datasets[0].data.length;\n            this.$store.state.chart.data.datasets[0].pointBackgroundColor[length - 1] = '#1AD873';\n            this.$store.state.chart.data.datasets[0].pointBorderColor[length - 1] = '#1AD873';\n            \n            let diffusionCompleteImage = new Image();\n            diffusionCompleteImage.src = this.$store.state.imagePrefix ? this.$store.state.imagePrefix + 'complete.png' : require('@/assets/complete.png');\n            // multi run\n            // this.$store.state.chart.data.datasets[this.$store.state.runCount].pointStyle[length - 1] = diffusionCompleteImage;\n            // single run\n            this.$store.state.chart.data.datasets[0].pointStyle[length - 1] = diffusionCompleteImage;\n\n            this.$store.state.chart.update();\n        })\n        // change color on chart when click event is registered in netlogo\n        window.addEventListener('message', (e) => {\n            if (e.data.type === 'fv-canvas-click'){\n                // check if simulation is running and there are blocks in the mouse click bracket\n                if($('#go-button').hasClass('go-pause')){\n                    // multi run\n                    // const length = this.$store.state.chart.data.datasets[this.$store.state.runCount].data.length;\n                    // this.$store.state.chart.data.datasets[this.$store.state.runCount].pointBackgroundColor[length - 1] = '#FF0A01';\n                    // this.$store.state.chart.data.datasets[this.$store.state.runCount].pointBorderColor[length - 1] = '#FF0A01';\n                    const length = this.$store.state.chart.data.datasets[0].data.length;\n                    this.$store.state.chart.data.datasets[0].pointBackgroundColor[length - 1] = '#FF0A01';\n                    this.$store.state.chart.data.datasets[0].pointBorderColor[length - 1] = '#FF0A01';\n                    this.$store.state.chart.update();\n                }\n            }\n        })\n\n        if (this.$store.state.chart) {\n            this.$store.state.chart.destroy();\n        }\n\n        Chart.defaults.font.family = \"Poppins\";\n        Chart.defaults.font.size = 11;\n        const runNum = this.$store.state.runCount\n        this.ctx = document.getElementById('chartCanvas').getContext('2d');\n        this.$store.state.chart = new Chart(this.ctx, {\n            type: 'scatter',\n            data: {\n                datasets: [{\n                    label: 'simulation run ' + (runNum - 1),\n                    borderColor: '#2671BC',\n                    pointBorderColor: [],\n                    pointBackgroundColor: [],\n                    pointStyle: [],\n                    data: [],\n                    borderWidth: 1\n                }]\n            },\n            options: {\n                interaction: {\n                    mode: 'nearest',\n                },\n                showLine: true,\n                scales: {\n                    x: {\n                        beginAtZero: true,\n                        title: {\n                            display: true,\n                            text: 'Time',\n                            align: 'center',\n                            padding: 0\n                        },\n                        ticks: {\n                            callback: function(val) {\n                                // Hide the decimal point labels\n                                return Number.isInteger(val) ? this.getLabelForValue(val) : '';\n                            }\n                        }\n                    },\n                    y: {\n                        beginAtZero: true,\n                        suggestedMax: 100,\n                        title: {\n                            display: true,\n                            text: ['Ink Spread','%'],\n                            align: 'center',\n                            padding: 0\n                        }\n                    }\n                },\n                maintainAspectRatio: false,\n                plugins: \n                {\n                    tooltip: {\n                        events:['mousemove', 'mouseout', 'touchstart', 'touchmove'],\n                        callbacks: {\n                            label: function(tooltipItem) {\n                                // check if point is red\n                                if(this._chart.data.datasets[tooltipItem.datasetIndex].pointBackgroundColor[tooltipItem.dataIndex] === '#FF0A01'){\n                                    return ['Mouse Clicked!','Model: ' + tooltipItem.parsed.y + '% ink spread'];\n                                }\n                                else if(this._chart.data.datasets[tooltipItem.datasetIndex].pointBackgroundColor[tooltipItem.dataIndex] !== '#2671BC'){\n                                    return ['Diffusion Complete!', 'Model: ' + tooltipItem.parsed.y + '% ink spread'];\n                                }\n                                else{\n                                    return ['Model: ' + tooltipItem.parsed.y + '% ink spread'];\n                                }\n                            }\n                        }\n                    },\n                    legend: {\n                        display: false\n                    }\n                }\n            }\n        });\n\n        this.ctx = document.getElementById('chart2Canvas').getContext('2d');\n        this.$store.state.secondChart = new Chart(this.ctx, {\n            type: 'scatter',\n            data: {\n                datasets: [{\n                    label: 'temp vs. diffusion time',\n                    borderColor: '#F26522',\n                    pointBorderColor: '#F26522',\n                    pointBackgroundColor: '#F49576',\n                    pointStyle: 'circle',\n                    data: [],\n                    borderWidth: 1\n                }]\n            },\n            options: {\n                interaction: {\n                    mode: 'nearest',\n                },\n                showLine: false,\n                scales: {\n                    x: {\n                        beginAtZero: true,\n                        max: 50,\n                        title: {\n                            display: true,\n                            text: 'Temperature (°C)',\n                            align: 'center',\n                            padding: 0\n                        },\n                        ticks: {\n                            stepSize: 10\n                        }\n                    },\n                    y: {\n                        beginAtZero: true,\n                        suggestedMax: 100,\n                        title: {\n                            display: true,\n                            text: ['Ink Spread','%'],\n                            align: 'center',\n                            padding: 0\n                        }\n                    }\n                },\n                maintainAspectRatio: false,\n                plugins: \n                {\n                    tooltip: {\n                        events:['mousemove', 'mouseout', 'touchstart', 'touchmove'],\n                        callbacks: {\n                            label: function(tooltipItem) {\n                                return ['Simulation Run #' + (tooltipItem.dataIndex + 1), tooltipItem.parsed.y + '% ink spread', tooltipItem.parsed.x + '° C'];\n                            }\n                        }\n                    },\n                    legend: {\n                        display: false\n                    }\n                }\n            }\n        })\n    },\n    methods:\n    {\n        getChartImage(){\n            let img;\n            if(this.$store.state.chart){\n                // change canvas background to white for screenshot button\n                this.ctx.save();\n                this.ctx.globalCompositeOperation = 'destination-over';\n                this.ctx.fillStyle = 'white';\n                this.ctx.fillRect(0, 0, this.$store.state.chart.width, this.$store.state.chart.height);\n                this.ctx.restore();\n                img = this.$store.state.chart.toBase64Image();\n            }\n            let a = document.createElement(\"a\"); //Create <a>\n            a.href = img; //Image Base64 Goes here\n            a.download = \"chart\"; //File name Here\n            a.click(); //Downloaded file\n        }\n    },\n    computed:{\n        simRuns(){\n            return this.$store.state.runCount;\n        }\n    },\n    watch: {\n        // simRuns(newCount) {\n        //     const newDataset = {\n        //         label: 'simulation run ' + (newCount - 1),\n        //         borderColor: '#2671BC',\n        //         pointBorderColor: ['#2671BC'],\n        //         pointBackgroundColor: ['#2671BC'],\n        //         pointStyle: ['circle'],\n        //         data: [{x:0, y:0}],\n        //         borderWidth: 1\n        //     };\n        //     this.$store.state.chart.data.datasets.push(newDataset);\n        //     this.$store.state.chart.update();\n        // }\n  }\n}\n</script>\n\n<style scoped>\n.charts{\n    height: 78%;\n    width: 100%;\n    display: flex;\n}\n.diffusion-chart1 {\n    font-weight: 500;\n    height: 100%;\n    width: 50%;\n}\n.diffusion-chart2 {\n    font-weight: 500;\n    height: 100%;\n    width: 50%;\n    background-color: #3F91BB40;\n}\n.screenshot{\n    /* display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: white;\n    border-style: solid;\n    border-color: #B5B5B6;\n    border-width: 1px;\n    border-radius: 7px;\n    box-sizing: border-box;\n    width: 30px;\n    height: 30px;\n    padding: 0px;\n    background-image: url('../../assets/camera.png');\n    background-repeat: no-repeat;\n    background-size: contain; */\n    position: relative;\n    bottom: 26%;\n    left: 1%;\n}\n</style>","import mod from \"-!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.2_tgdxeapd63ovhfvtehykrase5i/node_modules/babel-loader/lib/index.js!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.pnpm/vue-loader@15.9.8_cyjfjrw7yhvh44htxup64x6v6m/node_modules/vue-loader/lib/index.js??vue-loader-options!./diffusionChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.2_tgdxeapd63ovhfvtehykrase5i/node_modules/babel-loader/lib/index.js!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.pnpm/vue-loader@15.9.8_cyjfjrw7yhvh44htxup64x6v6m/node_modules/vue-loader/lib/index.js??vue-loader-options!./diffusionChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./diffusionChart.vue?vue&type=template&id=1652feba&scoped=true&\"\nimport script from \"./diffusionChart.vue?vue&type=script&lang=js&\"\nexport * from \"./diffusionChart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./diffusionChart.vue?vue&type=style&index=0&id=1652feba&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.9.8_cyjfjrw7yhvh44htxup64x6v6m/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1652feba\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/.pnpm/vue-loader@15.9.8_cyjfjrw7yhvh44htxup64x6v6m/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.pnpm/vue-loader@15.9.8_cyjfjrw7yhvh44htxup64x6v6m/node_modules/vue-loader/lib/index.js??vue-loader-options!./diffusionChart.vue?vue&type=style&index=0&id=1652feba&scoped=true&lang=css&\""],"sourceRoot":""}