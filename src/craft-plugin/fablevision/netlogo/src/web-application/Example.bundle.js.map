{"version":3,"sources":["webpack:///./src/components/ReadOnlyBlocklyComponent.vue?464d","webpack:///./src/views/Example.vue?f932","webpack:///./src/views/Example.vue?e7bd","webpack:///./src/components/ReadOnlyBlocklyComponent.vue?5190","webpack:///src/components/ReadOnlyBlocklyComponent.vue","webpack:///./src/components/ReadOnlyBlocklyComponent.vue?476a","webpack:///./src/components/ReadOnlyBlocklyComponent.vue?efa0","webpack:///src/views/Example.vue","webpack:///./src/views/Example.vue?c0fe","webpack:///./src/views/Example.vue?c815"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","mode","_v","_s","$store","state","taskInfo","title","exampleTitle","student","firstName","lastName","studentNumber","info","journey","task","_e","attrs","directives","name","rawName","value","expression","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","multiple","_l","model","key","id","domProps","ref","models","initSimulation","workspace","staticRenderFns","class","viewMode","expandSrc","shrinkSrc","changeViewMode","staticStyle","_t","props","data","devMode","window","location","href","match","hasSavedModels","pulse","toolbox","progress","mounted","getToolbox","unsubscribe","subscribeAction","dispatch","methods","setupWorkspace","addBlockToWorkspaceByDefault","checkForOrphanBlocks","component"],"mappings":"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","file":"Example.bundle.js","sourcesContent":["export * from \"-!../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/.pnpm/vue-loader@15.9.8_cyjfjrw7yhvh44htxup64x6v6m/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/vue-loader@15.9.8_cyjfjrw7yhvh44htxup64x6v6m/node_modules/vue-loader/lib/index.js??vue-loader-options!./ReadOnlyBlocklyComponent.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/.pnpm/vue-loader@15.9.8_cyjfjrw7yhvh44htxup64x6v6m/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/vue-loader@15.9.8_cyjfjrw7yhvh44htxup64x6v6m/node_modules/vue-loader/lib/index.js??vue-loader-options!./Example.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"simulation-view\"},[_c('div',{staticClass:\"task\"},[_c('div',{staticClass:\"header\"},[(_vm.mode === 'example')?_c('div',{staticClass:\"info\"},[_vm._v(\" Example: \"+_vm._s(_vm.$store.state.taskInfo.title)+\" - \"+_vm._s(_vm.exampleTitle)+\" \")]):(_vm.mode === 'student')?_c('div',{staticClass:\"info\"},[_vm._v(\" \"+_vm._s(_vm.student.firstName)+\" \"+_vm._s(_vm.student.lastName)+\" \"+_vm._s(_vm.student.studentNumber)+\" \"),_c('span',{staticClass:\"unit-task\"},[_vm._v(\"Unit: \"+_vm._s(_vm.info.journey.title)+\" Task: \"+_vm._s(_vm.info.task.title))])]):_vm._e(),(_vm.mode === 'student')?_c('div',{staticClass:\"model-selection\"},[_c('label',{attrs:{\"for\":\"task-models\"}},[_vm._v(\"Select a model: \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selected),expression:\"selected\"}],staticClass:\"task-models\",attrs:{\"name\":\"task-models\",\"id\":\"task-models\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selected=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.models),function(model){return _c('option',{key:model.id,attrs:{\"id\":\"selected-model\"},domProps:{\"value\":model}},[_vm._v(\" \"+_vm._s(model.title || 'untitled' + model.id)+\" \")])}),0)]):_vm._e()]),_c('div',{staticClass:\"contents\"},[_c('ReadOnlyBlocklyComponent',{ref:\"workspace\",attrs:{\"id\":\"blockly\",\"models\":_vm.models,\"selected\":_vm.selected},on:{\"blocklySetupComplete\":_vm.initSimulation}}),_c('SimulationComponent',{ref:\"simulation\",staticClass:\"component\",attrs:{\"id\":\"simulation\",\"workspace\":_vm.workspace}}),_c('ExperimentComponent',{staticClass:\"component\",attrs:{\"id\":\"experiment\",\"workspace\":_vm.workspace}}),_c('ChartComponent',{staticClass:\"component\",attrs:{\"workspace\":_vm.workspace}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"blockly-component\"},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"Workspace - \"+_vm._s(_vm.$store.state.taskInfo.title))]),_c('input',{staticClass:\"change-mode\",class:_vm.$store.state.viewMode === 'main' ? 'expand':'shrink',attrs:{\"type\":\"image\",\"src\":_vm.$store.state.viewMode === 'main' ? _vm.expandSrc : _vm.shrinkSrc},on:{\"click\":_vm.changeViewMode}})]),_c('div',{ref:\"blocklyDiv\",staticClass:\"blocklyDiv\"}),_c('xml',{ref:\"blocklyToolbox\",staticStyle:{\"display\":\"none\"}},[_vm._t(\"default\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"blockly-component\">\n        <div class=\"title\">\n            <div class=\"label\">Workspace - {{ $store.state.taskInfo.title }}</div>\n            <input type=\"image\" :src=\"$store.state.viewMode === 'main' ? expandSrc : shrinkSrc\" class=\"change-mode\" :class=\"$store.state.viewMode === 'main' ? 'expand':'shrink'\" v-on:click=\"changeViewMode\" >\n        </div>\n        <div class=\"blocklyDiv\" ref=\"blocklyDiv\"></div>\n        <xml ref=\"blocklyToolbox\" style=\"display:none\">\n            <slot></slot>\n        </xml>\n    </div>\n</template>\n\n<script>\n\nimport Blockly from 'blockly';\nimport './prompt';\nimport $ from 'jquery';\nimport { netlogoGenerator } from '@/blocklyHelpers/netlogoGenerator';\nimport '@/blocklyHelpers/mutations';\nexport default {\n  name: 'ReadOnlyBlocklyComponent',\n  props: ['models', 'selected'],\n  data(){\n    return {\n      devMode: window.location.href.match(/\\?debug=true/i) ? true : false,\n      hasSavedModels: false,\n      pulse: null,\n      toolbox: null,\n      workspace: null,\n      progress: null,\n      expandSrc:  this.$store.state.imagePrefix ? this.$store.state.imagePrefix + 'expand.png' : require('@/assets/expand.png'),\n      shrinkSrc:  this.$store.state.imagePrefix ? this.$store.state.imagePrefix + 'shrink.png' : require('@/assets/shrink.png'),\n    }\n  },\n  mounted(){\n    // Blockly Options exist in Vuex Store as global variables to avoid duplication errors thrown by Blockly everytime the Component is mounted\n    this.workspace = Blockly.inject(this.$refs['blocklyDiv'], this.$store.state.readOnlyBlocklyOptions);\n\n    // Store workspace toolbox to add to later\n    this.toolbox = this.workspace.getToolbox();\n\n    let unsubscribe = null;\n    unsubscribe = this.$store.subscribeAction({\n        after: (action) => {\n            if (action.type === 'initTask') {\n                for (let lib of this.$store.state.libraries){\n                    if(lib !== 'general'){\n                        import(/* webpackChunkName: \"[request]\" */ `@/data/blockLibraries/${lib}`).then( module => {\n                            for (let category of module[lib].categories){\n                                this.toolbox.toolboxDef_.contents.push(category);\n                            }\n                            this.toolbox.render(this.toolbox.toolboxDef_);\n                            this.setupWorkspace();\n                            this.workspace.refreshToolboxSelection();\n                            // this.workspace.getFlyout().recordScrollPositions();\n                        });\n                    }\n                }\n                unsubscribe();\n            }\n        }\n    }, { prepend: true })\n    // load task, clear libs, and get the Toolbox Mode\n    this.$store.dispatch(\"initTask\");\n  },\n  methods:{\n    // sets up Blockly Workspace\n    setupWorkspace(){\n        netlogoGenerator.init(this.workspace);\n        this.workspace.addChangeListener(this.checkForOrphanBlocks);\n        this.addBlockToWorkspaceByDefault();\n        this.$emit('blocklySetupComplete');\n    },\n    // initiates blocks that should be in the workspace on page load and prevents them from being deleted\n    addBlockToWorkspaceByDefault(xmlString = \"\"){\n        let xmlText;\n        if(xmlString){\n            xmlText = Blockly.Xml.textToDom(xmlString);\n        }\n        else if(window[\"__EXAMPLE_CONTENT__\"]){\n            xmlText = Blockly.Xml.textToDom(this.$store.state.taskInfo.example.script);\n        }\n        else if(window[\"__STUDENT_INFO__\"]){\n            xmlText = Blockly.Xml.textToDom(this.$store.state.taskInfo.project);\n        }\n        Blockly.Xml.clearWorkspaceAndLoadFromXml(xmlText, this.workspace);\n        this.workspace.scrollCenter();\n    },\n    // grays out blocks that are not connected to a top level block\n    checkForOrphanBlocks(e){\n        Blockly.Events.disableOrphans(e);\n        if(e.type === Blockly.Events.BLOCK_MOVE || e.type === Blockly.Events.BLOCK_CREATE){\n            if(this.pulse !== null){\n                clearTimeout(this.pulse);\n            }\n            $('.flag').removeClass('pulse');\n            $('.flag').addClass('pulse');\n            this.pulse = setTimeout(()=>{\n                $('.flag').removeClass('pulse');\n            }, 4000);\n        }\n        if(e.type === Blockly.Events.BLOCK_CHANGE && e?.element === 'field'){\n            let block = (this.workspace.getBlockById(e.blockId));\n            if(e.name === 'AGENT' && e.newValue === 'SMOKES'){\n                block.setStyle('for_smoke_behavior_blocks');\n            }\n            else if(e.name === 'AGENT' && e.newValue === 'TREES'){\n                block.setStyle('forest_control_blocks');\n            }\n        }\n    },\n    changeViewMode(){\n        if(this.$store.state.viewMode === 'main'){\n            this.$store.commit('changeMode', 'workspace');\n        }\n        else{\n            this.$store.commit('changeMode', 'main');\n        }\n        Blockly.svgResize(this.workspace);\n        this.workspace.resize();\n    },\n  },\n    watch:{\n      selected: function (newVal){\n          const xmlText = Blockly.Xml.textToDom(newVal.progress);\n          Blockly.Xml.clearWorkspaceAndLoadFromXml(xmlText, this.workspace);\n      }\n    }\n}\n</script>\n\n<style>\n.blocklyDiv {\n  height: 100%;\n  width: 100%;\n  text-align: left;\n}\n.blocklyPath{\n    stroke-width: 3px !important;\n}\n.blockly-component{\n    display: grid;\n    grid-template-rows: 41px minmax(0, 1fr);\n    grid-template-columns: 1fr;\n}\n.title{\n    display: flex;\n    border-style: solid;\n    border-width: 0 0 2px 0;\n    border-color: #B5B5B6;\n    padding: 5px 10px;\n    justify-content: space-between;\n    font-weight: 500;\n    background-color: white;\n}\n.task-models{\n    width: 150px;\n}\n\n</style>\n","import mod from \"-!../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/babel-loader@8.2.2_tgdxeapd63ovhfvtehykrase5i/node_modules/babel-loader/lib/index.js!../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/vue-loader@15.9.8_cyjfjrw7yhvh44htxup64x6v6m/node_modules/vue-loader/lib/index.js??vue-loader-options!./ReadOnlyBlocklyComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/babel-loader@8.2.2_tgdxeapd63ovhfvtehykrase5i/node_modules/babel-loader/lib/index.js!../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/vue-loader@15.9.8_cyjfjrw7yhvh44htxup64x6v6m/node_modules/vue-loader/lib/index.js??vue-loader-options!./ReadOnlyBlocklyComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReadOnlyBlocklyComponent.vue?vue&type=template&id=64810c19&\"\nimport script from \"./ReadOnlyBlocklyComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./ReadOnlyBlocklyComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReadOnlyBlocklyComponent.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.pnpm/vue-loader@15.9.8_cyjfjrw7yhvh44htxup64x6v6m/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"simulation-view\">\n        <div class=\"task\">\n            <div class=\"header\">\n                <div v-if=\"mode === 'example'\" class=\"info\">\n                    Example: {{ $store.state.taskInfo.title }} - {{ exampleTitle }}\n                </div>\n                <div v-else-if=\"mode === 'student'\" class=\"info\">\n                    {{student.firstName}}  {{student.lastName}} {{student.studentNumber}} \n                    <span class=\"unit-task\">Unit: {{info.journey.title}} Task: {{info.task.title}}</span>\n                </div>\n                <div v-if=\"mode === 'student'\" class=\"model-selection\">\n                    <label for=\"task-models\">Select a model: </label>\n                    <select name=\"task-models\" id=\"task-models\" class=\"task-models\" v-model=\"selected\">\n                        <option id=\"selected-model\"\n                        v-for=\"model in models\" \n                        :key=\"model.id\" \n                        :value=\"model\">\n                            {{ model.title || 'untitled' + model.id }}\n                        </option>\n                    </select>\n                </div>\n            </div>\n            <div class=\"contents\">\n                <ReadOnlyBlocklyComponent id=\"blockly\" ref=\"workspace\" :models=\"models\" :selected=\"selected\" v-on:blocklySetupComplete=\"initSimulation\"/>\n                <SimulationComponent id=\"simulation\" class=\"component\" :workspace=\"workspace\" ref=\"simulation\"/>\n                <ExperimentComponent id=\"experiment\" class=\"component\" :workspace=\"workspace\" />\n                <ChartComponent class=\"component\" :workspace=\"workspace\"/>\n            </div>\n        </div>\n        \n    </div>\n</template>\n\n<script>\nimport ReadOnlyBlocklyComponent from '@/components/ReadOnlyBlocklyComponent.vue';\nimport ChartComponent from '@/components/ChartComponent.vue';\nimport ExperimentComponent from '@/components/ExperimentComponent.vue';\nimport SimulationComponent from '@/components/SimulationComponent.vue';\nimport _ from 'underscore';\nimport $ from 'jquery';\n\nexport default {\n    name: 'Simulation',\n    components: {\n        ReadOnlyBlocklyComponent,\n        ChartComponent,\n        ExperimentComponent,\n        SimulationComponent\n    },\n    data(){\n        return {\n            exampleTitle: '',\n            task: '',\n            workspace: null,\n            hasTitle: false,\n            selected: {},\n            models: [],\n            modalType: '',\n            mode: '',\n            student: {},\n            info: ''\n        }\n    },\n    mounted(){\n        this.workspace = this.$refs['workspace'].workspace;\n        if(window[\"__STUDENT_INFO__\"]){\n            this.mode = 'student';\n            this.info = window[\"__TASK_INFO__\"];\n            window.fv.getStudents((e)=>{\n                this.student = _.findWhere(e, {id: parseInt(new URLSearchParams(window.location.search).get('studentId'))});\n            });\n        }\n        else if(window[\"__EXAMPLE_CONTENT__\"]){\n            this.exampleTitle = this.$store.state.taskInfo.example.title;\n            this.mode = 'example';\n        }\n        // modularizes layout of simulation view\n        if(this.$store.state.taskInfo.viewComponents.includes('chartComponent') && this.$store.state.taskInfo.viewComponents.includes('experimentComponent')){\n            $('.contents').css('grid-template-areas', '\"workspace model experiment\" \"workspace chart chart\"');\n        }\n        else if(this.$store.state.taskInfo.viewComponents.includes('chartComponent') && !this.$store.state.taskInfo.viewComponents.includes('experimentComponent')){\n            $('.contents').css('grid-template-areas', '\"workspace model model\" \"workspace chart chart\"');\n            $('#experiment').hide();\n        }\n        else if(!this.$store.state.taskInfo.viewComponents.includes('chartComponent') && this.$store.state.taskInfo.viewComponents.includes('experimentComponent')){\n            $('.contents').css('grid-template-areas', '\"workspace model experiment\" \"workspace model experiment\"');\n            $('#chart').hide();\n        }\n        else {\n            $('.contents').css('grid-template-areas', '\"workspace model model\" \"workspace model model\"');\n            $('#chart').hide();\n            $('#experiment').hide();\n        }\n    },\n    methods:{\n        initSimulation(){\n            this.$refs['simulation'].getStarted();\n            this.getModels();\n        },\n        getModels(){\n            this.models = window[\"__STUDENT_INFO__\"] || [];\n            if(this.models.length > 0){\n                this.selected = this.models[0];\n            }\n        }\n    }\n}\n</script>\n\n<style>\n.simulation-view {\n    height: 100%;\n    width: 100%;\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: minmax(0,1fr);\n}\n\n#blockly {\n    height: 100%;\n    border: #B5B5B6;\n    border-width: 2px;\n    border-style: solid;\n    box-sizing: border-box;\n    grid-row-start: 1;\n    grid-row-end: 3;\n}\n\n#simulation {\n    grid-column: 2;\n    grid-row: 1;\n}\n\n#experiment {\n    grid-column: 3;\n    grid-row: 1;\n}\n\n#chart{\n    grid-row: 2;\n    grid-column-start: 2;\n    grid-column-end: 4;\n}\n\n.change-mode{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: white;\n    border-style: solid;\n    border-color: gray;\n    border-width: 1px;\n    border-radius: 7px;\n    box-sizing: border-box;\n    width: 30px;\n    height: 30px;\n    background-repeat: no-repeat;\n    background-size: contain;\n}\n\n.screenshot{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: white;\n    border-style: solid;\n    border-color: gray;\n    border-width: 1px;\n    border-radius: 7px;\n    box-sizing: border-box;\n    width: 30px;\n    height: 30px;\n}\n\n.component{\n    height: 100%;\n    margin: 0;\n    background-color: #FFFFFF;\n    box-sizing: border-box;\n    border: #B5B5B6;\n    border-width: 2px;\n    border-style: solid;\n}\n\n.task {\n    justify-self: center;\n    align-self: center;\n    display: grid;\n    grid-template-columns: 20px minmax(0, 1fr) 20px;\n    grid-template-rows: 60px minmax(0, 1fr) 20px;\n    height: 100%;\n    width: 100%;\n    align-items: center;\n}\n\n.header{\n    display: flex;\n    height: 100%;\n    grid-column: 2;\n    grid-row: 1;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.info{\n    font-weight: 500;\n    font-size: 30px;\n}\n\n.saved{\n    margin: 0 1rem;\n    font-weight: 300;\n    font-size: 16px;\n    opacity: 0;\n    color: #338449;\n    animation: fadeIn ease 1s;\n    -webkit-animation: fadeIn ease 1s;\n    -moz-animation: fadeIn ease 1s;\n    -o-animation: fadeIn ease 1s;\n    -ms-animation: fadeIn ease 1s;\n}\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  50%{\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n\n.contents{\n    grid-column: 2;\n    grid-row: 2;\n    display: grid;\n    grid-template-columns: minmax(0,5fr) minmax(0, 4fr) minmax(0,3fr);\n    grid-template-rows: minmax(0,4fr) minmax(0,1fr);\n    gap: 5px;\n    width: 100%;\n    height: 100%;\n    justify-self: center;\n    align-self: center;\n}\n\n.expandedDiv{\n    grid-row-start: 1 !important; \n    grid-row-end: 4 !important;\n    grid-column-start: 1 !important;\n    grid-column-end: 4 !important;\n}\n\n.ui-buttons{\n    background-color: #2671BC;\n    border-width: 0px;\n    color: white;\n    font-weight: 500;\n    font-size: 17px;\n    border-radius: 15px;\n    padding: 10px;\n}\n\n.task-models{\n    font-family: Poppins, sans-serif;\n}\n\n.delete-model{\n    padding: 5px 10px;\n    margin: 0 10px;\n}\n/* SAVE MODAL */\n.modal{\n\tdisplay: none;\n\tposition: fixed;\n\tz-index: 100;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100%;\n\toverflow: auto;\n\tbackground-color: rgba(0,0,0,0.4);\n}\n.modal-content{\n\tbackground-color: #fefefe;\n    margin: 20% auto;\n    padding: 20px;\n    border: 1px solid #888;\n    width: 50%;\n\theight: 200px;\n    min-width: 300px;\n\tmax-width: 500px;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n    align-items: center;\n    position: relative;\n}\n.modal-container{\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n    align-items: center;\n}\n.modal-title{\n\tfont-weight: 500;\n\tfont-size: 20px;\n}\n.title-container{\n    display: flex;\n    width: 100%;\n    justify-content: center;\n}\n.model-title{\n\tmargin: 0 1em 0 0;\n}\n.save-model{\n\tbackground-color: #2671BC;\n    border-width: 0px;\n    color: white;\n    font-weight: 500;\n    font-size: 17px;\n    border-radius: 15px;\n    padding: 10px;\n}\n.save-model:disabled{\n    background-color: #ADADAD;\n}\n.buttons{\n    width: 100%;\n    display: flex;\n    justify-content: space-evenly;\n    align-items: center;\n}\n.close{\n\tborder: none;\n    background-color: transparent;\n    position: absolute;\n    right: 0;\n    top: 0;\n    margin: 10px;\n}\n.unit-task{\n    font-size: 18px;\n    font-weight: normal;\n}\n</style>\n","import mod from \"-!../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/babel-loader@8.2.2_tgdxeapd63ovhfvtehykrase5i/node_modules/babel-loader/lib/index.js!../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/vue-loader@15.9.8_cyjfjrw7yhvh44htxup64x6v6m/node_modules/vue-loader/lib/index.js??vue-loader-options!./Example.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/babel-loader@8.2.2_tgdxeapd63ovhfvtehykrase5i/node_modules/babel-loader/lib/index.js!../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/vue-loader@15.9.8_cyjfjrw7yhvh44htxup64x6v6m/node_modules/vue-loader/lib/index.js??vue-loader-options!./Example.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Example.vue?vue&type=template&id=25a2c1e0&\"\nimport script from \"./Example.vue?vue&type=script&lang=js&\"\nexport * from \"./Example.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Example.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.pnpm/vue-loader@15.9.8_cyjfjrw7yhvh44htxup64x6v6m/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}