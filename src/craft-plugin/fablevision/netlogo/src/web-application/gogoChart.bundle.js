(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["gogoChart"],{3564:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{ref:"chartsContainer",staticClass:"charts-container"},[s("div",{staticClass:"chart-container"},[t._m(0),s("div",{staticClass:"chart"},[s("highcharts",{ref:"chart1",attrs:{options:t.chartOptions1}})],1),"Separate"!==t.settings.plotStyle?s("div",{staticClass:"chart-label chart-label-2"},[s("span",{staticClass:"rotated cw"},[t._v("Real World")]),s("span",{staticClass:"rotated cw label-2-y-axis"},[t._v(t._s(t.chartOptions2.yAxis[0].title.text))])]):t._e()]),"Separate"===t.settings.plotStyle?s("div",{staticClass:"chart-container"},[s("div",{staticClass:"chart chart-2"},[s("highcharts",{ref:"chart2",attrs:{options:t.chartOptions2}})],1),t._m(1)]):t._e()])},a=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"chart-label"},[s("span",{staticClass:"rotated"},[t._v("Model")])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"chart-label chart-label-2"},[s("span",{staticClass:"rotated cw"},[t._v("Real World")])])}],n=(s("3489"),s("a468"),s("5180")),o=(s("183d"),{name:"diffusionChartComponent",props:["workspace","dataset1","dataset2","settings"],components:{highcharts:n["Chart"]},data:function(){var t=this;return{ctx:"",isModelComplete:!1,data:[],chartOptions1:{chart:{height:145,spacing:[10,10,0,10],title:"Model",events:{redraw:function(){t.refreshView(!1)},beforePrint:function(){this.exportSVGElements[0].box.hide(),this.exportSVGElements[1].hide()},afterPrint:function(){this.exportSVGElements[0].box.show(),this.exportSVGElements[1].show()}}},credits:{enabled:!1},title:{text:null},navigator:{enabled:!1},series:[{name:"Time",color:"#FF0000",type:"line",data:[],pointStart:0,pointInterval:1}],xAxis:{title:{text:"Time"},useHTML:!0,style:{fontSize:"12px",fontFamily:"proxima-nova,helvetica,arial,sans-serif",whiteSpace:"nowrap",paddingLeft:"15px",paddingRight:"15px",paddingTop:"5px",paddingBottom:"5px"}},yAxis:[{title:{text:""},labels:{formatter:function(){return this.value}}},{title:{text:""},labels:{formatter:function(){return this.value}}}]},chartOptions2:{chart:{height:145,spacing:[10,10,0,10],title:"Real World",events:{redraw:function(){t.refreshView(!1)},beforePrint:function(){this.exportSVGElements[0].box.hide(),this.exportSVGElements[1].hide()},afterPrint:function(){this.exportSVGElements[0].box.show(),this.exportSVGElements[1].show()}}},credits:{enabled:!1},title:{text:null},navigator:{enabled:!1},series:[{name:"Time",color:"#0000FF",type:"line",data:[]}],xAxis:{title:{text:"Time"},useHTML:!0,style:{fontSize:"12px",fontFamily:"proxima-nova,helvetica,arial,sans-serif",whiteSpace:"nowrap",paddingLeft:"15px",paddingRight:"15px",paddingTop:"5px",paddingBottom:"5px"}},yAxis:[{title:{text:""},labels:{formatter:function(){return this.value}}},{title:{text:""},labels:{formatter:function(){return this.value}}}]}}},mounted:function(){var t=this;this.setChartSettings(),window.addEventListener("resize",this.refreshView),window.addEventListener("complete",(function(){t.isModelComplete=!0,t.setChartData()})),window.addEventListener("SetupComplete",(function(){t.isModelComplete=!1,t.chartOptions1.series[0].data=[],t.setChartData()}))},beforeDestroy:function(){window.removeEventListener("resize",this.refreshView)},methods:{refreshView:function(){var t,i,s,e,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(this.chartOptions1.chart.height=this.$refs["chartsContainer"].clientHeight,this.chartOptions2.chart.height=this.$refs["chartsContainer"].clientHeight,a)&&(null===(t=this.$refs["chart1"])||void 0===t||null===(i=t.chart)||void 0===i||i.reflow(),null===(s=this.$refs["chart2"])||void 0===s||null===(e=s.chart)||void 0===e||e.reflow())},setChartData:function(){var t,i,s,e,a,n,o,r,h,l,d,c,p,u,x,v,g,m,f,y,A,O,w,C=this;(this.chartOptions1.series[0].data=this.$store.state.simulationData.map((function(t,i){return{x:t[0],y:t[1],color:C.isModelComplete&&i==C.$store.state.simulationData.length-1?"#1AD873":"#FF0000",name:C.isModelComplete&&i==C.$store.state.simulationData.length-1?"Diffusion Complete!":void 0}}))||[],"None"!==this.settings.yAxis2)?this.$set(this.chartOptions1.series,1,{name:this.settings.yAxis2,data:(null===(w=this.$store.state.simulationData)||void 0===w?void 0:w.map((function(t){return t[0]})))||[],type:this.settings.graphType.toLowerCase(),color:"#FF00FF",yAxis:1}):this.$delete(this.chartOptions1.series,1);var R=(null===(t=this.dataset2)||void 0===t||null===(i=t.data)||void 0===i||null===(s=i[0])||void 0===s||null===(e=s.data)||void 0===e?void 0:e[0])||0;console.log(R);for(var b=[],S=(null===(a=this.dataset2)||void 0===a||null===(n=a.data)||void 0===n||null===(o=n[this.settings.xAxisRW])||void 0===o?void 0:o.data)||[],W=(null===(r=this.dataset2)||void 0===r||null===(h=r.data)||void 0===h||null===(l=h[this.settings.xAxisRW])||void 0===l?void 0:l.name)||"",$=(null===(d=this.dataset2)||void 0===d||null===(c=d.data)||void 0===c||null===(p=c[this.settings.yAxisRW])||void 0===p?void 0:p.data)||[],T=(null===(u=this.dataset2)||void 0===u||null===(x=u.data)||void 0===x||null===(v=x[this.settings.yAxisRW])||void 0===v?void 0:v.name)||"",E=0;E<$.length;E++){var F=S[E];"Time"===W&&(F=(F-R)/1e3);var _=$[E];"Time"===T&&(_=(_-R)/1e3),b.push([F,_])}console.log("new chart 2 data",b),this.chartOptions2.series[0].data=b;var V=(null===(g=this.dataset2)||void 0===g||null===(m=g.data)||void 0===m||null===(f=m[this.settings.yAxis2RW-1])||void 0===f?void 0:f.data)||[],D=(null===(y=this.dataset2)||void 0===y||null===(A=y.data)||void 0===A||null===(O=A[this.settings.yAxis2RW-1])||void 0===O?void 0:O.name)||"";if(V.length){for(var L=[],M=0;M<V.length;M++){var G=S[M];"Time"===W&&(G=(G-R)/1e3);var z=V[M];"Time"===D&&(z=(z-R)/1e3),L.push([G,z])}this.chartOptions2.series[1]={name:D,data:L,type:this.settings.graphTypeRW.toLowerCase(),color:"#FF00FF",yAxis:1}}else delete this.chartOptions2.series[1]},setChartSettings:function(){var t,i,s,e,a,n,o,r,h;this.chartOptions1.xAxis.title.text=this.settings.xAxis,this.chartOptions1.series[0].name=this.settings.yAxis,this.chartOptions2.series[0].name=null===(t=this.dataset2)||void 0===t||null===(i=t.data)||void 0===i||null===(s=i[this.settings.yAxisRW])||void 0===s?void 0:s.name,this.chartOptions1.series[0].type=this.settings.graphType.toLowerCase(),this.chartOptions2.series[0].type=this.settings.graphTypeRW.toLowerCase(),this.chartOptions2.xAxis.title.text=null===(e=this.dataset2)||void 0===e||null===(a=e.data)||void 0===a||null===(n=a[this.settings.xAxisRW])||void 0===n?void 0:n.name,this.chartOptions1.yAxis[0].title.text=this.settings.yAxis,this.chartOptions2.yAxis[0].title.text=null===(o=this.dataset2)||void 0===o||null===(r=o.data)||void 0===r||null===(h=r[this.settings.yAxisRW])||void 0===h?void 0:h.name,"Temperature"===this.chartOptions2.yAxis[0].title.text&&(this.chartOptions2.yAxis[0].title.text="Temp."),"Temperature"===this.chartOptions2.xAxis.title.text&&(this.chartOptions2.xAxis.title.text="Temp."),this.chartOptions2.yAxis[0].min="auto"!==this.settings.yAxisRangeRW[0]?this.settings.yAxisRangeRW[0]:void 0,this.chartOptions2.yAxis[0].max="auto"!==this.settings.yAxisRangeRW[1]?this.settings.yAxisRangeRW[1]:void 0,this.setChartData(),this.chartOptions2.series[1]?(this.chartOptions2.yAxis[1].min="auto"!==this.settings.yAxisRangeRW[0]?this.settings.yAxisRangeRW[0]:void 0,this.chartOptions2.yAxis[1].max="auto"!==this.settings.yAxisRangeRW[1]?this.settings.yAxisRangeRW[1]:void 0):(this.chartOptions2.yAxis[1].min=void 0,this.chartOptions2.yAxis[1].max=void 0),"Separate"==this.settings.plotStyle?(this.$delete(this.chartOptions1.series,1),this.chartOptions1.yAxis[0].min=void 0,this.chartOptions1.yAxis[0].max=void 0):(this.$set(this.chartOptions1.series,1,this.chartOptions2.series[0]),this.chartOptions1.yAxis[0].min=this.chartOptions2.yAxis[0].min,this.chartOptions1.yAxis[0].max=this.chartOptions2.yAxis[0].max,this.chartOptions2.series[1]?this.$set(this.chartOptions1.series,2,this.chartOptions2.series[1]):this.$delete(this.chartOptions1.series,2)),window.dispatchEvent(new Event("resize"))}},computed:{},watch:{settings:{handler:function(t,i){this.setChartSettings(),console.log("settings changed",t,i)},deep:!0},"$store.state.board.dataset":{handler:function(t,i){this.$set(this,"dataset1",t),this.setChartSettings()},deep:!0},"$store.state.simulationData":{handler:function(t,i){this.setChartSettings()},deep:!0},"$store.state.secondChart":{handler:function(t,i){this.setChartSettings()},deep:!0},dataset2:function(t,i){console.log("dataset2 changed",t,i),this.setChartSettings()},"settings.plotStyle":function(t,i){var s=this;this.$nextTick((function(){s.refreshView()}))}}}),r=o,h=(s("405c"),s("de9a")),l=Object(h["a"])(r,e,a,!1,null,"06b93edc",null);i["default"]=l.exports},"405c":function(t,i,s){"use strict";s("8feb")},"8feb":function(t,i,s){}}]);
//# sourceMappingURL=gogoChart.bundle.js.map