(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Example"],{"63c0":function(e,t,s){},"83e7":function(e,t,s){},c9f9:function(e,t,s){"use strict";s("63c0")},f2f0:function(e,t,s){"use strict";s("83e7")},f3c2:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"simulation-view"},[s("div",{staticClass:"task"},[s("div",{staticClass:"header"},["example"===e.mode?s("div",{staticClass:"info"},[e._v(" Example: "+e._s(e.$store.state.taskInfo.title)+" - "+e._s(e.exampleTitle)+" ")]):"student"===e.mode?s("div",{staticClass:"info"},[e._v(" "+e._s(e.student.firstName)+" "+e._s(e.student.lastName)+" "+e._s(e.student.studentNumber)+" "),s("span",{staticClass:"unit-task"},[e._v("Unit: "+e._s(e.info.journey.title)+" Task: "+e._s(e.info.task.title))])]):e._e(),"student"===e.mode?s("div",{staticClass:"model-selection"},[s("label",{attrs:{for:"task-models"}},[e._v("Select a model: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"task-models",attrs:{name:"task-models",id:"task-models"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selected=t.target.multiple?s:s[0]}}},e._l(e.models,(function(t){return s("option",{key:t.id,attrs:{id:"selected-model"},domProps:{value:t}},[e._v(" "+e._s(t.title||"untitled"+t.id)+" ")])})),0)]):e._e()]),s("div",{staticClass:"contents"},[s("ReadOnlyBlocklyComponent",{ref:"workspace",attrs:{id:"blockly",models:e.models,selected:e.selected},on:{blocklySetupComplete:e.initSimulation}}),s("SimulationComponent",{ref:"simulation",staticClass:"component",attrs:{id:"simulation",workspace:e.workspace}}),s("ExperimentComponent",{staticClass:"component",attrs:{id:"experiment",workspace:e.workspace}}),s("ChartComponent",{staticClass:"component",attrs:{workspace:e.workspace}})],1)])])},a=[],n=(s("1c67"),s("b8ab"),s("4cc9"),s("b304"),s("fd25"),s("8747"),s("b8ff"),s("6c38"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"blockly-component"},[s("div",{staticClass:"title"},[s("div",{staticClass:"label"},[e._v("Workspace - "+e._s(e.$store.state.taskInfo.title))]),s("input",{staticClass:"change-mode",class:"main"===e.$store.state.viewMode?"expand":"shrink",attrs:{type:"image",src:"main"===e.$store.state.viewMode?e.expandSrc:e.shrinkSrc},on:{click:e.changeViewMode}})]),s("div",{ref:"blocklyDiv",staticClass:"blocklyDiv"}),s("xml",{ref:"blocklyToolbox",staticStyle:{display:"none"}},[e._t("default")],2)],1)}),i=[],l=s("42f0"),r=(s("c2bc"),s("a468"),s("e668")),c=s.n(r),d=(s("e52f"),s("1d05")),m=s.n(d),p=s("4562"),u=(s("ba81"),{name:"ReadOnlyBlocklyComponent",props:["models","selected"],data:function(){return{devMode:!!window.location.href.match(/\?debug=true/i),hasSavedModels:!1,pulse:null,toolbox:null,workspace:null,progress:null,expandSrc:this.$store.state.imagePrefix?this.$store.state.imagePrefix+"expand.png":s("2f89"),shrinkSrc:this.$store.state.imagePrefix?this.$store.state.imagePrefix+"shrink.png":s("1aaa")}},mounted:function(){var e=this;this.workspace=c.a.inject(this.$refs["blocklyDiv"],this.$store.state.readOnlyBlocklyOptions),this.toolbox=this.workspace.getToolbox();var t=null;t=this.$store.subscribeAction({after:function(o){if("initTask"===o.type){var a,n=Object(l["a"])(e.$store.state.libraries);try{var i=function(){var t=a.value;"general"!==t&&s("23ab")("./".concat(t)).then((function(s){var o,a=Object(l["a"])(s[t].categories);try{for(a.s();!(o=a.n()).done;){var n=o.value;e.toolbox.toolboxDef_.contents.push(n)}}catch(i){a.e(i)}finally{a.f()}e.toolbox.render(e.toolbox.toolboxDef_),e.setupWorkspace(),e.workspace.refreshToolboxSelection()}))};for(n.s();!(a=n.n()).done;)i()}catch(r){n.e(r)}finally{n.f()}t()}}},{prepend:!0}),this.$store.dispatch("initTask")},methods:{setupWorkspace:function(){p["a"].init(this.workspace),this.workspace.addChangeListener(this.checkForOrphanBlocks),this.addBlockToWorkspaceByDefault(),this.$emit("blocklySetupComplete")},addBlockToWorkspaceByDefault:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t?e=c.a.Xml.textToDom(t):window["__EXAMPLE_CONTENT__"]?e=c.a.Xml.textToDom(this.$store.state.taskInfo.example.script):window["__STUDENT_INFO__"]&&(e=c.a.Xml.textToDom(this.$store.state.taskInfo.project)),c.a.Xml.clearWorkspaceAndLoadFromXml(e,this.workspace),this.workspace.scrollCenter()},checkForOrphanBlocks:function(e){if(c.a.Events.disableOrphans(e),e.type!==c.a.Events.BLOCK_MOVE&&e.type!==c.a.Events.BLOCK_CREATE||(null!==this.pulse&&clearTimeout(this.pulse),m()(".flag").removeClass("pulse"),m()(".flag").addClass("pulse"),this.pulse=setTimeout((function(){m()(".flag").removeClass("pulse")}),4e3)),e.type===c.a.Events.BLOCK_CHANGE&&"field"===(null===e||void 0===e?void 0:e.element)){var t=this.workspace.getBlockById(e.blockId);"AGENT"===e.name&&"SMOKES"===e.newValue?t.setStyle("for_smoke_behavior_blocks"):"AGENT"===e.name&&"TREES"===e.newValue&&t.setStyle("forest_control_blocks")}},changeViewMode:function(){"main"===this.$store.state.viewMode?this.$store.commit("changeMode","workspace"):this.$store.commit("changeMode","main"),c.a.svgResize(this.workspace),this.workspace.resize()}},watch:{selected:function(e){var t=c.a.Xml.textToDom(e.progress);c.a.Xml.clearWorkspaceAndLoadFromXml(t,this.workspace)}}}),h=u,f=(s("c9f9"),s("de9a")),k=Object(f["a"])(h,n,i,!1,null,null,null),w=k.exports,v=s("6de0"),_=s("1bdc"),C=s("0837"),x=s("9c48"),b={name:"Simulation",components:{ReadOnlyBlocklyComponent:w,ChartComponent:v["a"],ExperimentComponent:_["a"],SimulationComponent:C["a"]},data:function(){return{exampleTitle:"",task:"",workspace:null,hasTitle:!1,selected:{},models:[],modalType:"",mode:"",student:{},info:""}},mounted:function(){var e=this;this.workspace=this.$refs["workspace"].workspace,window["__STUDENT_INFO__"]?(this.mode="student",this.info=window["__TASK_INFO__"],window.fv.getStudents((function(t){e.student=x["a"].findWhere(t,{id:parseInt(new URLSearchParams(window.location.search).get("studentId"))})}))):window["__EXAMPLE_CONTENT__"]&&(this.exampleTitle=this.$store.state.taskInfo.example.title,this.mode="example"),this.$store.state.taskInfo.viewComponents.includes("chartComponent")&&this.$store.state.taskInfo.viewComponents.includes("experimentComponent")?m()(".contents").css("grid-template-areas",'"workspace model experiment" "workspace chart chart"'):this.$store.state.taskInfo.viewComponents.includes("chartComponent")&&!this.$store.state.taskInfo.viewComponents.includes("experimentComponent")?(m()(".contents").css("grid-template-areas",'"workspace model model" "workspace chart chart"'),m()("#experiment").hide()):!this.$store.state.taskInfo.viewComponents.includes("chartComponent")&&this.$store.state.taskInfo.viewComponents.includes("experimentComponent")?(m()(".contents").css("grid-template-areas",'"workspace model experiment" "workspace model experiment"'),m()("#chart").hide()):(m()(".contents").css("grid-template-areas",'"workspace model model" "workspace model model"'),m()("#chart").hide(),m()("#experiment").hide())},methods:{initSimulation:function(){this.$refs["simulation"].getStarted(),this.getModels()},getModels:function(){this.models=window["__STUDENT_INFO__"]||[],this.models.length>0&&(this.selected=this.models[0])}}},g=b,y=(s("f2f0"),Object(f["a"])(g,o,a,!1,null,null,null));t["default"]=y.exports}}]);
//# sourceMappingURL=Example.bundle.js.map