(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["heat"],{8413:function(e,t,n){"use strict";n.r(t),n.d(t,"heat",(function(){return l}));var a=n("42f0"),o=(n("b8ff"),n("6c38"),n("a468"),n("e668")),i=n.n(o),s=n("4562"),l={};function r(e,t,n){var a=n.newBlock(e);a.appendStatementInput("EXPANDED_STATEMENT"),c(t,a.getInput("EXPANDED_STATEMENT").connection,n);var o=s["a"].blockToCode(a.getInput("EXPANDED_STATEMENT").connection.targetBlock());return a.dispose(),o}function c(e,t,n){var o,i=Object(a["a"])(e.reverse());try{for(i.s();!(o=i.n()).done;){var s=o.value,l=n.newBlock(s.blockType);for(var r in s.fields)l.getField(r)&&l.setFieldValue(s.fields[r],r);var p=l.previousConnection;if(t&&t.connect(p),s.condition){var d=n.newBlock(s.condition.blockType);l.getInput(s.condition.input).connection.connect(d.outputConnection),s.condition.field&&d.setFieldValue(s.condition.field.value,s.condition.field.name)}s.children&&c(s.children,l.inputList[1].connection,n)}}catch(m){i.e(m)}finally{i.f()}}l={categories:[{kind:"category",name:"Heat",expanded:!0,contents:[{kind:"category",name:"Properties",toolboxitemid:"propertiesUnpackable",categorystyle:"smoke_properties_category",contents:[{kind:"block",type:"create_particles"},{kind:"block",type:"create_electrons"},{kind:"block",type:"set_type"},{kind:"block",type:"set_links"},{kind:"block",type:"set_size"},{kind:"block",type:"set_arrangement"},{kind:"block",type:"set_color"},{kind:"block",type:"set_position"},{kind:"block",type:"set_heading"}]},{kind:"category",name:"Action",categorystyle:"smoke_action_category",expanded:!0,contents:[{kind:"block",type:"interact"},{kind:"block",type:"transfer_energy"},{kind:"block",type:"vibrate"},{kind:"block",type:"wiggle"},{kind:"block",type:"travel"},{kind:"block",type:"transfer_heat"},{kind:"block",type:"bounce_off"},{kind:"block",type:"attach"},{kind:"block",type:"erase"}]},{kind:"category",name:"Control",categorystyle:"smoke_control_category",expanded:!0,contents:[{kind:"block",type:"ask_each_particle"},{kind:"block",type:"touching_dropdown"},{kind:"block",type:"is_linked"}]}]}]},i.a.Blocks["create_particles"]={init:function(){this.jsonInit({message0:"create  %1 particles %2",args0:[{type:"field_dropdown",name:"TYPE",options:[["copper","COPPER"],["wood","WOOD"]]},{type:"input_dummy",name:"EMPTY"}],previousStatement:null,nextStatement:null,style:"smoke_behavior_blocks",mutator:"general_mutator"});var e={unpackBlocks:[{blockType:"set_arrangement",fields:{ARRANGEMENT:"COPPER"===this.getFieldValue("TYPE")?"UNIFORM":"MESSY"}},{blockType:"set_links",fields:{LINKS:"ON"}},{blockType:"set_size",fields:{SIZE:"MEDIUM"}}],contextData:{CHANGED:!1},contentXml:""};this.data=JSON.stringify(e)},onchange:function(){var e=JSON.parse(this.data);if(this.getInput("EXPANDED_STATEMENT")){var t,n=0,o=Object(a["a"])(this.getChildren());try{for(o.s();!(t=o.n()).done;){var s=t.value;s.getSurroundParent()===this&&(0===n?e.contentXml=i.a.Xml.domToText(i.a.Xml.blockToDom(s)):e.contentXml+=i.a.Xml.domToText(i.a.Xml.blockToDom(s)),++n)}}catch(l){o.e(l)}finally{o.f()}}e.contextData["CHANGED"]||(e.unpackBlocks=[{blockType:"set_arrangement",fields:{ARRANGEMENT:"COPPER"===this.getFieldValue("TYPE")?"UNIFORM":"MESSY"}},{blockType:"set_links",fields:{LINKS:"ON"}},{blockType:"set_size",fields:{SIZE:"MEDIUM"}}]),this.data=JSON.stringify(e)}},i.a.Blocks["create_electrons"]={init:function(){this.jsonInit({message0:"create  %1 electrons %2",args0:[{type:"field_slider",name:"PARTICLE_NUM",value:50,min:1,max:100},{type:"input_dummy",name:"EMPTY"}],previousStatement:null,nextStatement:null,style:"smoke_behavior_blocks",mutator:"general_mutator"});var e={unpackBlocks:[{blockType:"set_position",fields:{POSITION:"RANDOM_HEAT"}},{blockType:"set_heading",fields:{HEADING:"RANDOM"}},{blockType:"set_color",fields:{COLOR:"YELLOW"}}],contextData:{CHANGED:!1},contentXml:""};this.data=JSON.stringify(e)},onchange:function(){var e=JSON.parse(this.data);if(this.getInput("EXPANDED_STATEMENT")){var t,n=0,o=Object(a["a"])(this.getChildren());try{for(o.s();!(t=o.n()).done;){var s=t.value;s.getSurroundParent()===this&&(0===n?e.contentXml=i.a.Xml.domToText(i.a.Xml.blockToDom(s)):e.contentXml+=i.a.Xml.domToText(i.a.Xml.blockToDom(s)),++n)}}catch(l){o.e(l)}finally{o.f()}}e.contextData["CHANGED"]||(e.unpackBlocks=[{blockType:"set_position",fields:{POSITION:"RANDOM_HEAT"}},{blockType:"set_heading",fields:{HEADING:"RANDOM"}},{blockType:"set_color",fields:{COLOR:"YELLOW"}}]),this.data=JSON.stringify(e)}},i.a.Blocks["interact"]={init:function(){this.jsonInit({message0:"interact %1",args0:[{type:"input_dummy",name:"EMPTY"}],inputsInline:!0,previousStatement:null,nextStatement:null,mutator:"general_mutator",style:"smoke_action_blocks"});var e={unpackBlocks:[{blockType:"controls_if",fields:{},condition:{input:"IF0",blockType:"touching_dropdown",field:{name:"TYPE",value:"WALL"}},children:[{blockType:"bounce_off",fields:{}}]},{blockType:"controls_if",fields:{},condition:{input:"IF0",blockType:"touching_dropdown",field:{name:"TYPE",value:"ANYPARTICLE"}},children:[{blockType:"bounce_off",fields:{}}]}],contextData:{CHANGED:!1},contentXml:""};this.data=JSON.stringify(e)},onchange:function(){if(this.getInput("EXPANDED_STATEMENT")){var e,t=JSON.parse(this.data),n=0,o=Object(a["a"])(this.getChildren());try{for(o.s();!(e=o.n()).done;){var s=e.value;s.getSurroundParent()===this&&(0===n?t.contentXml=i.a.Xml.domToText(i.a.Xml.blockToDom(s)):t.contentXml+=i.a.Xml.domToText(i.a.Xml.blockToDom(s)),++n)}}catch(l){o.e(l)}finally{o.f()}this.data=JSON.stringify(t)}}},i.a.Blocks["transfer_energy"]={init:function(){this.jsonInit({message0:"transfer energy %1",args0:[{type:"input_dummy",name:"EMPTY"}],inputsInline:!0,previousStatement:null,nextStatement:null,mutator:"general_mutator",style:"smoke_action_blocks"});var e={unpackBlocks:[{blockType:"controls_if",fields:{},condition:{input:"IF0",blockType:"touching_dropdown",field:{name:"TYPE",value:"ANYPARTICLE"}},children:[{blockType:"transfer_heat",fields:{}}]},{blockType:"controls_if",fields:{},condition:{input:"IF0",blockType:"is_linked"},children:[{blockType:"transfer_heat",fields:{}}]}],contextData:{CHANGED:!1},contentXml:""};this.data=JSON.stringify(e)},onchange:function(){if(this.getInput("EXPANDED_STATEMENT")){var e,t=JSON.parse(this.data),n=0,o=Object(a["a"])(this.getChildren());try{for(o.s();!(e=o.n()).done;){var s=e.value;s.getSurroundParent()===this&&(0===n?t.contentXml=i.a.Xml.domToText(i.a.Xml.blockToDom(s)):t.contentXml+=i.a.Xml.domToText(i.a.Xml.blockToDom(s)),++n)}}catch(l){o.e(l)}finally{o.f()}this.data=JSON.stringify(t)}}},i.a.Blocks["vibrate"]={init:function(){this.jsonInit({message0:"vibrate %1",args0:[{type:"input_dummy",name:"EMPTY"}],inputsInline:!0,previousStatement:null,nextStatement:null,mutator:"general_mutator",style:"smoke_action_blocks"});var e={unpackBlocks:[{blockType:"wiggle"},{blockType:"transfer_energy"}],contextData:{CHANGED:!1},contentXml:""};this.data=JSON.stringify(e)},onchange:function(){var e=JSON.parse(this.data);if(this.getInput("EXPANDED_STATEMENT")){var t,n=0,o=Object(a["a"])(this.getChildren());try{for(o.s();!(t=o.n()).done;){var s=t.value;s.getSurroundParent()===this&&(0===n?e.contentXml=i.a.Xml.domToText(i.a.Xml.blockToDom(s)):e.contentXml+=i.a.Xml.domToText(i.a.Xml.blockToDom(s)),++n)}}catch(l){o.e(l)}finally{o.f()}}this.data=JSON.stringify(e)}},i.a.Blocks["move forward"]={init:function(){this.jsonInit({message0:"move %1",args0:[{type:"input_dummy",name:"EMPTY"}],inputsInline:!0,previousStatement:null,nextStatement:null,mutator:"general_mutator",style:"smoke_action_blocks"});var e={unpackBlocks:[{blockType:"move",fields:{DIRECTION:"upward",MAGNITUDE:"SAME"}}],contextData:{CHANGED:!1},contentXml:""};this.data=JSON.stringify(e)},onchange:function(){var e=JSON.parse(this.data);if(this.getInput("EXPANDED_STATEMENT")){var t,n=0,o=Object(a["a"])(this.getChildren());try{for(o.s();!(t=o.n()).done;){var s=t.value;s.getSurroundParent()===this&&(0===n?e.contentXml=i.a.Xml.domToText(i.a.Xml.blockToDom(s)):e.contentXml+=i.a.Xml.domToText(i.a.Xml.blockToDom(s)),++n)}}catch(l){o.e(l)}finally{o.f()}}this.data=JSON.stringify(e)}},i.a.Blocks["blow"]={init:function(){this.jsonInit({message0:"blow %1",args0:[{type:"input_dummy",name:"EMPTY"}],inputsInline:!0,previousStatement:null,nextStatement:null,mutator:"general_mutator",style:"smoke_action_blocks"});var e={unpackBlocks:[{blockType:"move",fields:{DIRECTION:"WIND",MAGNITUDE:"WIND"}}],contextData:{CHANGED:!1},contentXml:""};this.data=JSON.stringify(e)},onchange:function(){var e=JSON.parse(this.data);if(this.getInput("EXPANDED_STATEMENT")){var t,n=0,o=Object(a["a"])(this.getChildren());try{for(o.s();!(t=o.n()).done;){var s=t.value;s.getSurroundParent()===this&&(0===n?e.contentXml=i.a.Xml.domToText(i.a.Xml.blockToDom(s)):e.contentXml+=i.a.Xml.domToText(i.a.Xml.blockToDom(s)),++n)}}catch(l){o.e(l)}finally{o.f()}}this.data=JSON.stringify(e)}},i.a.defineBlocksWithJsonArray([{type:"set_speed",message0:"set speed %1",args0:[{type:"field_dropdown",name:"SPEED",options:[["zero","ZERO"],["very low","VERY_LOW"],["low","LOW"],["medium","MEDIUM"],["high","HIGH"]]}],previousStatement:null,nextStatement:null,style:"smoke_behavior_unpacked_blocks"},{type:"set_type",message0:"set type %1",args0:[{type:"field_dropdown",name:"TYPE",options:[["copper","COPPER"],["wood","WOOD"]]}],previousStatement:null,nextStatement:null,style:"smoke_behavior_unpacked_blocks"},{type:"set_arrangement",message0:"set arrangement %1",args0:[{type:"field_dropdown",name:"ARRANGEMENT",options:[["uniform","UNIFORM"],["messy","MESSY"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"smoke_behavior_unpacked_blocks",tooltip:"pick a value between 0 and 5"},{type:"set_color",message0:"set color %1",args0:[{type:"field_dropdown",name:"COLOR",options:[["yellow","YELLOW"],["red","RED"],["green","GREEN"],["blue","BLUE"],["gray","GRAY"],["cyan","CYAN"],["white","WHITE"]]}],previousStatement:null,nextStatement:null,tooltip:"",helpUrl:"",style:"smoke_behavior_unpacked_blocks"},{type:"set_links",message0:"set links %1",args0:[{type:"field_dropdown",name:"LINKS",options:[["on","ON"],["off","OFF"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"smoke_behavior_unpacked_blocks"},{type:"set_size",message0:"set size %1",args0:[{type:"field_dropdown",name:"SIZE",options:[["small","SMALL"],["medium","MEDIUM"],["big","BIG"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"smoke_behavior_unpacked_blocks"},{type:"set_position",message0:"set position %1",args0:[{type:"field_dropdown",name:"POSITION",options:[["random","RANDOM_HEAT"],["center","CENTER_HEAT"],["vertical line","VERTICAL_HEAT"],["horizontal line","HORIZONTAL_HEAT"]]}],previousStatement:null,nextStatement:null,style:"smoke_behavior_unpacked_blocks"},{type:"set_heading",message0:"set heading %1",args0:[{type:"field_dropdown",name:"HEADING",options:[["random","RANDOM"],["up","UP"],["right","RIGHT"],["down","DOWN"],["left","LEFT"]]}],previousStatement:null,nextStatement:null,tooltip:"",helpUrl:"",style:"smoke_behavior_unpacked_blocks"},{type:"move",message0:"move %1 %2",args0:[{type:"field_dropdown",name:"DIRECTION",options:[["forward","FORWARD"],["in wind direction","WIND"]]},{type:"field_dropdown",name:"MAGNITUDE",options:[["the same","SAME"],["at wind speed","WIND"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"smoke_action_blocks"},{type:"wiggle",message0:"wiggle",inputsInline:!0,previousStatement:null,nextStatement:null,style:"smoke_action_blocks"},{type:"travel",message0:"move",inputsInline:!0,previousStatement:null,nextStatement:null,style:"smoke_action_blocks"},{type:"transfer_heat",message0:"transfer heat",inputsInline:!0,previousStatement:null,nextStatement:null,style:"smoke_action_blocks"},{type:"bounce_off",message0:"bounce off",inputsInline:!0,previousStatement:null,nextStatement:null,style:"smoke_action_blocks"},{type:"erase",message0:"erase particles",inputsInline:!0,previousStatement:null,nextStatement:null,style:"smoke_action_blocks"},{type:"attach",message0:"attach particles",inputsInline:!0,previousStatement:null,nextStatement:null,style:"smoke_action_blocks"},{type:"ask_each_particle",message0:"ask %1 %2 %3",args0:[{type:"field_dropdown",name:"TYPE",options:[["particles","PARTICLES"],["electrons","ELECTRONS"],["all agents","ALL"]]},{type:"input_dummy"},{type:"input_statement",name:"ASK_EACH"}],previousStatement:null,nextStatement:null,style:"smoke_control_blocks"},{type:"touching_dropdown",message0:"touching %1",args0:[{type:"field_dropdown",name:"TYPE",options:[["any","ANY"],["particles","PARTICLES"],["electrons","ELECTRONS"],["wall","WALL"]]}],output:"Boolean",style:"smoke_control_blocks",tooltip:"",helpUrl:""},{type:"is_linked",message0:"is linked to particles %1",args0:[{type:"field_dropdown",name:"TYPE",options:[["any","ANY"],["particles","PARTICLES"],["electrons","ELECTRONS"],["wall","WALL"]]}],output:"Boolean",style:"smoke_control_blocks",tooltip:"",helpUrl:""},{type:"relationship",message0:"as size goes %1 %2 step size goes %3",args0:[{type:"field_dropdown",name:"SIZE",options:[["up","UP"],["down","DOWN"]]},{type:"input_dummy"},{type:"field_dropdown",name:"STEPSIZE",options:[["up","UP"],["down","DOWN"],["the same","SAME"]]}],previousStatement:null,nextStatement:null,style:"smoke_action_unpacked_blocks",tooltip:"",helpUrl:""}]),s["a"]["set"]=function(e){var t=s["a"].statementToCode(e,"SET"),n="to blocks-set\n"+s["a"].INDENT+"setup\n"+t+s["a"].INDENT+"reset-ticks\nend\n";return n},s["a"]["go"]=function(e){var t=s["a"].statementToCode(e,"GO"),n="to blocks-go\n"+s["a"].INDENT+"go\n"+t+s["a"].INDENT+"tick-advance tick-delta\n"+s["a"].INDENT+"display\nend\n";return n},s["a"]["mouse_click"]=function(e){var t=s["a"].INDENT+"set mouse-up? false\n"+s["a"].statementToCode(e,"MOUSE"),n="if mouse-down? \n[\n"+t+"]";n=i.a.JavaScript.prefixLines(n,s["a"].INDENT);var a="[\n"+s["a"].INDENT+"if not mouse-down?\n"+s["a"].INDENT+"[\n"+s["a"].INDENT+s["a"].INDENT+"set mouse-up? true\n"+s["a"].INDENT+"]\n]\n";a=i.a.JavaScript.prefixLines(a,s["a"].INDENT);var o="ifelse mouse-up? != false\n[\n"+n+"\n]\n";return o=i.a.JavaScript.prefixLines(o,s["a"].INDENT)+a,"to mouse_click\n"+o+"end\n"},s["a"]["controls_if"]=function(e){var t,n,a,o=0,l="";2===e.inputList.length?l+="if ":l+="(ifelse ";do{a=s["a"].valueToCode(e,"IF"+o,s["a"].ORDER_NONE)||"false",t=a.includes("(collision-candidate != nobody and collision-candidate != last-collision and distance collision-candidate <= size)"),n=t?s["a"].INDENT+"set collision-flag 1\n"+s["a"].statementToCode(e,"DO"+o):s["a"].INDENT+"set collision-flag 0\n"+s["a"].statementToCode(e,"DO"+o),i.a.JavaScript.STATEMENT_SUFFIX&&(n=i.a.JavaScript.prefixLines(i.a.JavaScript.injectId(i.a.JavaScript.STATEMENT_SUFFIX,e),s["a"].INDENT)+n),l+=(o>0?"\n":"")+a+"\n[\n"+n+"]",o++}while(e.getInput("IF"+o));return(e.getInput("ELSE")||i.a.JavaScript.STATEMENT_SUFFIX)&&(n=s["a"].statementToCode(e,"ELSE"),i.a.JavaScript.STATEMENT_SUFFIX&&(n=i.a.JavaScript.prefixLines(i.a.JavaScript.injectId(i.a.JavaScript.STATEMENT_SUFFIX,e),s["a"].INDENT)+n),l+="\n[\n"+n+"]"),2===e.inputList.length?l+="\n":l+=")\n",l+=t?"set collision-flag 0\n":"",l},s["a"]["create_particles"]=function(e){var t,n=e.getRootBlock().type,o=JSON.parse(e.data),l=e.getFieldValue("TYPE"),c=.7,p='let particlesX 0 \nlet particlesY 0 \nwhile [particlesY < 11][ \nwhile [particlesX < 11][ \n   create-particles 1[ \n      set particle-type "'+l.toLowerCase()+'"\n      set size '+c+'\n      set shape "circle" \n      set color white \n      set turtle-moved 0\n      set temperature room-temp \n      ;; save old value \n      set old-temperature temperature \n      set heading random 360   \n      setxy (particlesX - 5) (particlesY - 5)\n',d='   ] \n   set particlesX particlesX + 1 \n ] \n set particlesX 0 \nset particlesY particlesY + 1 \n] \nset particlesx 0\nwhile [particlesX < 11][ \n   create-particles 1[ \n      set particle-type "particle-heatsource"\n      set size '+c+'\n      set shape "circle" \n      setxy (particlesx - 5) bottomcor  \n      ] \n      set particlesX particlesX + 1 \n      ]\n      ask particles with [ycor = bottomCor][ \n          set temperature bottomTemperature \n        set color scale-color red rescale bottomTemperature 19.9 14.4 \n          ] \n         if linked = "ON" [ \n          ask particles with [particle-type != "particle-heatsource"][ \n          create-links-with other particles in-radius 1.4 \n         ] \n           ask links[ \n          set thickness 0.1 \n         set color 45 \n         ] \n         ] \n';if(o.contextData.CHANGED){var m,u=i.a.Xml.domToBlock(i.a.Xml.textToDom(JSON.parse(e.data).contentXml),this.workspace),T=Object(a["a"])(u.getDescendants());try{for(T.s();!(m=T.n()).done;){var k=m.value;"mouse_click"===n&&"set_position"===k.type&&k.dispose(!0)}}catch(E){T.e(E)}finally{T.f()}t=s["a"].blockToCode(u),u.dispose()}else t=r(e.type,o.unpackBlocks,this.workspace);var N=i.a.JavaScript.prefixLines(p,s["a"].INDENT)+";; test 1\n"+i.a.JavaScript.prefixLines(t,s["a"].INDENT)+"\n ;; test 2 \n"+i.a.JavaScript.prefixLines(d,s["a"].INDENT)+";; test 3\n";return N},s["a"]["create_electrons"]=function(e){var t,n=e.getRootBlock().type,o=JSON.parse(e.data),l=e.getFieldValue("PARTICLE_NUM"),c=.4,p="   create-electrons "+l+"[ \n      set size "+c+'\n      set particle-type "electrons"\n      set shape "circle" \n      set turtle-moved 0\n;; assign to electron the room temperature\nset temperature room-temp\n ;; give to the bottom ones the temperature of the bunsen\nif pycor = (- plate-size) [set temperature bottomTemperature]\n;; save old value\nset old-temperature temperature\n',d="   ] \n";if(o.contextData.CHANGED){var m,u=i.a.Xml.domToBlock(i.a.Xml.textToDom(JSON.parse(e.data).contentXml),this.workspace),T=Object(a["a"])(u.getDescendants());try{for(T.s();!(m=T.n()).done;){var k=m.value;"mouse_click"===n&&"set_position"===k.type&&k.dispose(!0)}}catch(E){T.e(E)}finally{T.f()}t=s["a"].blockToCode(u),u.dispose()}else t=r(e.type,o.unpackBlocks,this.workspace);var N=i.a.JavaScript.prefixLines(p,s["a"].INDENT)+";; test 1\n"+i.a.JavaScript.prefixLines(t,s["a"].INDENT)+"\n ;; test 2 \n"+i.a.JavaScript.prefixLines(d,s["a"].INDENT)+";; test 3\n";return N},s["a"]["set_speed"]=function(e){var t=s["a"].SPEED[e.getField("SPEED").selectedOption_[1]],n="set random-wiggle 5\nset speed "+t+"\n";return n},s["a"]["set_type"]=function(e){var t=e.getField("TYPE").selectedOption_[0],n='set particle-type "'+t+'"\n';return n},s["a"]["set_arrangement"]=function(e){var t=s["a"].ARRANGEMENT[e.getField("ARRANGEMENT").selectedOption_[1]],n=t+"\n";return n},s["a"]["set_color"]=function(e){var t=e.getField("COLOR").selectedOption_[0],n="set color "+t+"\n";return n},s["a"]["set_links"]=function(e){var t=e.getField("LINKS").selectedOption_[1],n='set linked "'+t+'"\n';return n},s["a"]["set_size"]=function(e){var t=s["a"].HEATSIZE[e.getField("SIZE").selectedOption_[1]],n="set size "+t+"\n";return n},s["a"]["set_position"]=function(e){var t=s["a"].POSITION[e.getField("POSITION").selectedOption_[1]],n=e.getField("POSITION").selectedOption_[1],a="MOUSE"!==n?"setxy "+t+"\n":t+"\n";return a},s["a"]["set_heading"]=function(e){var t=s["a"].HEADING[e.getField("HEADING").selectedOption_[1]],n="set random-wiggle 40\nset heading "+t+"\n";return n},s["a"]["move"]=function(e){var t=e.getField("DIRECTION").selectedOption_[1],n=e.getField("MAGNITUDE").selectedOption_[1],a=s["a"].DIRECTION[t],o=s["a"].MAGNITUDE[n],i="set random-wiggle 2\nmove "+a+" "+o+"\n";return"WIND"===n&&(i+="if (speed > wind-speed) [set speed wind-speed]\n"),"FORWARD"===t&&(i+="particle-forward\n"),i},s["a"]["blow"]=function(e){var t,n=JSON.parse(e.data);if(n.contextData.CHANGED){var a=i.a.Xml.domToBlock(i.a.Xml.textToDom(JSON.parse(e.data).contentXml),this.workspace);t=s["a"].blockToCode(a),a.dispose()}else t=r(e.type,n.unpackBlocks,this.workspace);return t},s["a"]["move forward"]=function(e){var t,n=JSON.parse(e.data);if(n.contextData.CHANGED){var a=i.a.Xml.domToBlock(i.a.Xml.textToDom(JSON.parse(e.data).contentXml),this.workspace);t=s["a"].blockToCode(a),a.dispose()}else t=r(e.type,n.unpackBlocks,this.workspace);return t},s["a"]["wiggle"]=function(){var e="if tick-counter = 1 [ \nset vibrate-energy (vibrate-energy + temperature / 5)\nif vibrate-energy >= temperature [set vibrate-energy temperature]\nif vibrate-energy <= (- temperature) [set vibrate-energy (- temperature)]\nifelse turtle-moved = 0 [\nset heading random 360\nset wiggle-displacement ((vibrate-energy / 100) * 0.1)\nforward wiggle-displacement\nset heading heading - 180 \nset turtle-moved 1\n]\n[\nforward wiggle-displacement\nset turtle-moved 0\n]\n]\n";return e},s["a"]["travel"]=function(){var e='if particle-type != "particle-heatsource"[ \nlet xcorr (xcor + dx * temperature * 0.1 * tick-delta)\nlet ycorr (ycor + dy * temperature * 0.1 * tick-delta)\nif (ycorr) > plate-size + 0.5 [\n  die\n]\nif (ycorr) < (- plate-size - 0.5)[\n  die\n]\nif xcorr > plate-size + 0.5 or xcorr < (- plate-size - 0.5) [\ndie\n]\nsetxy xcorr ycorr\n if ycorr < (- plate-size) - 0.3 [ set temperature bottomTemperature ]\n]\n';return e},s["a"]["transfer_heat"]=function(){var e='if breed = particles and linked = "ON" [ \nset temperature new-temperature\n;; set the edges back to their constant heat\nif pycor = bottomcor [ set temperature bottomTemperature ]\n;; save old temperature\nset old-temperature temperature\ncolor-agent\n] \nif breed = electrons[ \nset temperature new-temperature\n;; set the edges back to their constant heat\nif pycor = bottomcor [ set temperature bottomTemperature ]\n;; save old temperature\nset old-temperature temperature\ncolor-agent\n] \n';return e},s["a"]["interact"]=function(e){var t,n=JSON.parse(e.data);if(n.contextData.CHANGED){var a=i.a.Xml.domToBlock(i.a.Xml.textToDom(JSON.parse(e.data).contentXml),this.workspace);t=s["a"].blockToCode(a),a.dispose()}else t=r(e.type,n.unpackBlocks,this.workspace);return t},s["a"]["transfer_energy"]=function(e){var t,n=JSON.parse(e.data);if(n.contextData.CHANGED){var a=i.a.Xml.domToBlock(i.a.Xml.textToDom(JSON.parse(e.data).contentXml),this.workspace);t=s["a"].blockToCode(a),a.dispose()}else t=r(e.type,n.unpackBlocks,this.workspace);return t},s["a"]["vibrate"]=function(e){var t,n=JSON.parse(e.data);if(n.contextData.CHANGED){var a=i.a.Xml.domToBlock(i.a.Xml.textToDom(JSON.parse(e.data).contentXml),this.workspace);t=s["a"].blockToCode(a),a.dispose()}else t=r(e.type,n.unpackBlocks,this.workspace);return t},s["a"]["bounce_off"]=function(){var e='if particle-type != "particle-heatsource" [ ifelse collision-flag = 1\n[\n'+s["a"].INDENT+"set heading (heading + (random 60) - random (60))\n"+s["a"].INDENT+"set last-collision collision-candidate\n"+s["a"].INDENT+"]\n"+s["a"].INDENT+"[ \n"+s["a"].INDENT+"let xcorr (xcor + dx * temperature * 0.1 * tick-delta)\n"+s["a"].INDENT+"let ycorr (ycor + dy * temperature * 0.1 * tick-delta)\n"+s["a"].INDENT+"if (ycorr) > (plate-size + 0.5) [\n"+s["a"].INDENT+"  set heading (180 - heading)\n"+s["a"].INDENT+"]\n"+s["a"].INDENT+"if (ycorr) < (- plate-size - 0.5)[\n"+s["a"].INDENT+"  set heading (180 - heading)\n"+s["a"].INDENT+"]\n"+s["a"].INDENT+"if xcorr > plate-size  + 0.5 or xcorr < (- plate-size - 0.5) [\n"+s["a"].INDENT+"set heading (- heading)\n"+s["a"].INDENT+"]\n"+s["a"].INDENT+"] ]\n";return e},s["a"]["erase"]=function(){var e="ifelse collision-flag = 1\n[\n"+s["a"].INDENT+"set last-collision collision-candidate\n"+s["a"].INDENT+"ask collision-candidate [ set last-collision myself ]\n"+s["a"].INDENT+"ask collision-candidate [ die ]\n]\n[\n"+s["a"].INDENT+"die\n]\n";return e},s["a"]["attach"]=function(){var e="ifelse collision-flag = 1 \n[\n"+s["a"].INDENT+"set last-collision collision-candidate\n"+s["a"].INDENT+"let heading-candidate heading\n"+s["a"].INDENT+"ask collision-candidate\n"+s["a"].INDENT+"[\n"+s["a"].INDENT+s["a"].INDENT+"set last-collision myself\n"+s["a"].INDENT+s["a"].INDENT+"set heading heading-candidate\n"+s["a"].INDENT+"]\n]\n[\n"+s["a"].INDENT+"set speed 0\n]\n";return e},s["a"]["ask_each_particle"]=function(e){var t=e.getField("TYPE").value_||"PARTICLES",n="ALL"===t?"turtles ":t.toLowerCase(),a=s["a"].statementToCode(e,"ASK_EACH"),o="ask "+n+"\n[\n"+a+"]\n";return o},s["a"]["touching_dropdown"]=function(e){var t,n,a=e.getFieldValue("TYPE");return(a.includes("PARTICLES")||a.includes("ELECTRONS")||a.includes("ANY"))&&(a.includes("ANY")&&(n="particles electrons "),a.includes("ELECTRONS")&&(n="electrons "),a.includes("PARTICLES")&&(n="particles "),t="true [] \nset collision-candidate min-one-of other (turtle-set "+n+") [distance myself] \n set collision-flag 1 \nif(collision-candidate != nobody and collision-candidate != last-collision and distance collision-candidate <= size)"),a.includes("WALL")&&(t="true \n"),[t,s["a"].ORDER_NONE]},s["a"]["is_linked"]=function(e){var t,n=e.getFieldValue("TYPE");return n.includes("PARTICLES")||n.includes("ELECTRONS")||n.includes("ANY"),t='linked = "ON" \n',[t,s["a"].ORDER_NONE]}}}]);
//# sourceMappingURL=heat.bundle.js.map